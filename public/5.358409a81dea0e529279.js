(window.webpackJsonp=window.webpackJsonp||[]).push([[5],{X3zk:function(e,r,o){"use strict";o.r(r),o.d(r,"LoginModule",function(){return f});var t=o("ofXK"),n=o("3Pt+"),i=o("YOmw"),s=o("tyNb"),l=o("fXoL");let a=(()=>{class e{}return e.\u0275fac=function(r){return new(r||e)},e.\u0275cmp=l.Fb({type:e,selectors:[["app-template-login"]],decls:15,vars:0,consts:[["loginPage",""],[1,"container","w-75","mt-5","rounded","shadow"],[1,"row","align-items-stretch"],[1,"col","bg","d-none","d-lg-block","col-md-5","col-lg-5","col-xl-6","rounded"],[1,"col","bg-white","text-primary","p-5","rounded-end"],[1,"fw-bold","text-center"],[1,"fw-bold","text-center","text-dark"],[1,"text-secondary"],[1,"mt-5"]],template:function(e,r){1&e&&(l.Rb(0,"div",null,0),l.Rb(2,"div",1),l.Mb(3,"br"),l.Rb(4,"div",2),l.Mb(5,"div",3),l.Rb(6,"div",4),l.Rb(7,"h3",5),l.yc(8,"Welcome"),l.Qb(),l.Rb(9,"h1",6),l.yc(10,"MyStore "),l.Rb(11,"small",7),l.yc(12,"1.0"),l.Qb(),l.Qb(),l.Mb(13,"router-outlet"),l.Mb(14,"hr",8),l.Qb(),l.Qb(),l.Qb(),l.Qb())},directives:[s.f],styles:[".bg[_ngcontent-%COMP%]{background-image:url(/assets/img/background.jpeg);background-position:50%}.rounded-container[_ngcontent-%COMP%]{border-radius:20px}"]}),e})();var c=o("PSD3"),b=o.n(c),d=o("lGQG");function u(e,r){1&e&&(l.Rb(0,"span",10),l.yc(1," The mail is required "),l.Qb())}function m(e,r){if(1&e&&(l.Rb(0,"span",10),l.yc(1),l.Qb()),2&e){const e=l.ac();l.Ab(1),l.Ac(" The password is required, must have ",6-e.loginForm.controls.password.value.length," characters as a minimum ")}}const p=[{path:"",component:a,children:[{path:"login",component:(()=>{class e{constructor(e,r,o){this.fb=e,this.authService=r,this.router=o}ngOnDestroy(){this.loginSub$.unsubscribe()}ngOnInit(){this.loginForm=this.fb.group({email:["",[n.o.email,n.o.required]],password:["",[n.o.required,n.o.minLength(6)]]})}login(){this.loginSub$=this.authService.login(this.loginForm.controls.email.value,this.loginForm.controls.password.value).subscribe(e=>{e.hasOwnProperty("error")&&(b.a.fire("Error",e.error.msg,"error"),setInterval(()=>{b.a.close()},2e3)),1==e&&(b.a.fire("Success","Welcome","success"),setInterval(()=>{b.a.close()},2e3),this.router.navigateByUrl("/store/home"))})}fieldIsValid(e){return this.loginForm.controls[e].errors&&this.loginForm.controls[e].touched}}return e.\u0275fac=function(r){return new(r||e)(l.Lb(n.b),l.Lb(d.a),l.Lb(s.b))},e.\u0275cmp=l.Fb({type:e,selectors:[["app-login"]],decls:15,vars:4,consts:[[3,"formGroup","ngSubmit"],[1,"mb-4"],["for","email",1,"form-label"],["type","email","name","email","formControlName","email",1,"form-control"],["class","input-group alert alert-danger mb-2 mt-3",4,"ngIf"],["for","password",1,"form-label"],["type","password","name","password","formControlName","password",1,"form-control"],[1,"d-grid"],["type","submit",1,"btn","btn-primary",3,"disabled"],[1,"pi","pi-fw","pi-sign-in"],[1,"input-group","alert","alert-danger","mb-2","mt-3"]],template:function(e,r){1&e&&(l.Rb(0,"form",0),l.Yb("ngSubmit",function(){return r.login()}),l.Rb(1,"div",1),l.Rb(2,"label",2),l.yc(3,"Email"),l.Qb(),l.Mb(4,"input",3),l.wc(5,u,2,0,"span",4),l.Qb(),l.Rb(6,"div",1),l.Rb(7,"label",5),l.yc(8,"Password"),l.Qb(),l.Mb(9,"input",6),l.wc(10,m,2,1,"span",4),l.Qb(),l.Rb(11,"div",7),l.Rb(12,"button",8),l.Mb(13,"i",9),l.yc(14," Log in "),l.Qb(),l.Qb(),l.Qb()),2&e&&(l.hc("formGroup",r.loginForm),l.Ab(5),l.hc("ngIf",r.fieldIsValid("email")),l.Ab(5),l.hc("ngIf",r.fieldIsValid("password")),l.Ab(2),l.hc("disabled",r.loginForm.invalid))},directives:[n.p,n.h,n.d,n.a,n.g,n.c,t.k],styles:[""]}),e})()},{path:"**",redirectTo:"login"}]}];let g=(()=>{class e{}return e.\u0275fac=function(r){return new(r||e)},e.\u0275mod=l.Jb({type:e}),e.\u0275inj=l.Ib({imports:[[s.e.forChild(p)],s.e]}),e})(),f=(()=>{class e{}return e.\u0275fac=function(r){return new(r||e)},e.\u0275mod=l.Jb({type:e}),e.\u0275inj=l.Ib({imports:[[t.b,g,n.l,i.a]]}),e})()}}]);