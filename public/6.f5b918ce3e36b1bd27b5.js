(window.webpackJsonp=window.webpackJsonp||[]).push([[6],{NFwV:function(t,e,r){"use strict";r.r(e),r.d(e,"StoreModule",function(){return ee});var o=r("ofXK"),s=r("3Pt+"),c=r("YOmw"),i=r("fXoL"),a=r("tk/3"),n=r("AytR");let d=(()=>{class t{constructor(t){this.http=t,this._urlBase=n.a.URLBASE}getAllProducts(t=0){const e=`${this._urlBase}/products?from=${t}`,r=(new a.c).set("x-token",localStorage.getItem("token")||"");return this.http.get(e,{headers:r})}getProductById(t,e){var r;r=0!==(null==t?void 0:t.length)?`${this._urlBase}/products/search?product=${t}`:`${this._urlBase}/products/search?category=${e}`;const o=(new a.c).set("x-token",localStorage.getItem("token")||"");return this.http.get(r,{headers:o})}saveNewProduct(t){const e=`${this._urlBase}/products`,r=(new a.c).set("x-token",localStorage.getItem("token")||"");return this.http.post(e,t,{headers:r})}updateProduct(t,e){const r=`${this._urlBase}/products/${e}`,o=(new a.c).set("x-token",localStorage.getItem("token")||"");return this.http.put(r,t,{headers:o})}deleteProduct(t){const e=`${this._urlBase}/products/${t._id}`,r=(new a.c).set("x-token",localStorage.getItem("token")||"");return this.http.delete(e,{headers:r})}productsUnderStock(){const t=`${this._urlBase}/products/under_stock`,e=(new a.c).set("x-token",localStorage.getItem("token")||"");return this.http.get(t,{headers:e})}}return t.\u0275fac=function(e){return new(e||t)(i.Ub(a.a))},t.\u0275prov=i.Gb({token:t,factory:t.\u0275fac,providedIn:"root"}),t})(),b=(()=>{class t{constructor(t){this.http=t,this._urlBase=n.a.URLBASE,this.getListSales=()=>{const t=`${this._urlBase}/sale`,e=(new a.c).set("x-token",localStorage.getItem("token")||"");return this.http.get(t,{headers:e})}}saveSale(t,e){const r=`${this._urlBase}/sale/save`,o=(new a.c).set("x-token",localStorage.getItem("token")||"");return this.http.post(r,{products:e,saleDate:Date.now(),total:t},{headers:o})}staticticsSale(){const t=`${this._urlBase}/sale/statistics`,e=(new a.c).set("x-token",localStorage.getItem("token")||"");return this.http.get(t,{headers:e})}}return t.\u0275fac=function(e){return new(e||t)(i.Ub(a.a))},t.\u0275prov=i.Gb({token:t,factory:t.\u0275fac,providedIn:"root"}),t})();var l=r("lGQG"),u=r("tyNb");let p=(()=>{class t{transform(t){switch(t){case"ADMIN_ROLE":return"ADMIN";case"EMPLOYEE_ROLE":return"EMPLOYEE";default:return""}}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275pipe=i.Jb({name:"rol",type:t,pure:!0}),t})();function m(t,e){if(1&t&&(i.Qb(0,"li",7),i.Qb(1,"button",16),i.Lb(2,"i"),i.Qb(3,"span",15),i.rc(4),i.Pb(),i.Pb(),i.Pb()),2&t){const t=e.$implicit;i.zb(1),i.Bb("Logout"!==t.label?"nav-link align-middle px-0 text-white":"nav-link align-middle px-0 bg-danger text-white px-3 mt-4"),i.gc("routerLink",t.routerLink),i.zb(1),i.Bb(t.icon),i.zb(2),i.sc(t.label)}}let g=(()=>{class t{constructor(t,e){this.authService=t,this.router=e,this.items=[{label:"Home",icon:"pi pi-fw pi-home",routerLink:"/store/home",routerLinkActiveOptions:"active"},{label:"Products",icon:"pi pi-fw pi-book",routerLink:"/store/products",routerLinkActiveOptions:"active"},{label:"Categories",icon:"pi pi-fw pi-list",routerLink:"/store/categories",routerLinkActiveOptions:"active"},{label:"Sales",icon:"pi pi-fw pi-shopping-cart",routerLink:"/store/sales/history",routerLinkActiveOptions:"active"},{label:"User",icon:"pi pi-fw pi-users",routerLink:"/store/users/listUser",routerLinkActiveOptions:"active"},{label:"Statistics",icon:"pi pi-fw pi-chart-bar",routerLink:"/store/statistics",routerLinkActiveOptions:"active"}]}get user(){return this.authService.user}ngOnInit(){}logout(){this.authService.logout(),this.router.navigateByUrl("/auth")}}return t.\u0275fac=function(e){return new(e||t)(i.Kb(l.a),i.Kb(u.b))},t.\u0275cmp=i.Eb({type:t,selectors:[["app-menu-store"]],decls:27,vars:6,consts:[[1,"d-flex","flex-column","align-items-center","align-items-sm-start","px-3","pt-2","text-white","min-vh-100"],["href","/",1,"d-flex","align-items-center","pb-3","mb-md-0","me-md-auto","text-white","text-decoration-none"],[1,"fs-5","d-none","d-sm-inline","mt-2"],[1,"ms-2","text-secondary"],["id","menu",1,"nav","nav-pills","flex-column","mb-sm-auto","mb-0","align-items-center","align-items-sm-start"],["class","nav-item",4,"ngFor","ngForOf"],[1,"rounded-pill","text-light","mt-5","mb-2"],[1,"nav-item"],[1,"nav-link","align-middle","px-0","text-light"],[1,"pi","pi-user"],[1,"ms-1","d-none","d-sm-inline","text-light"],[1,"nav-link","align-middle","px-0","text-light","mt-1"],[1,"pi","pi-envelope"],[1,"nav-link","align-middle","px-0","bg-danger","text-white","px-3","mt-4",3,"click"],[1,"pi","pi-fw","pi-sign-out"],[1,"ms-1","d-none","d-sm-inline"],["routerLinkActive","bg-warning px-4",3,"routerLink"]],template:function(t,e){1&t&&(i.Qb(0,"div",0),i.Qb(1,"a",1),i.Qb(2,"span",2),i.rc(3,"MySTORE"),i.Qb(4,"small",3),i.rc(5,"1.0"),i.Pb(),i.Pb(),i.Pb(),i.Qb(6,"ul",4),i.pc(7,m,5,6,"li",5),i.Qb(8,"h5",6),i.rc(9),i.ac(10,"rol"),i.Pb(),i.Qb(11,"li",7),i.Qb(12,"a",8),i.Lb(13,"i",9),i.Qb(14,"span",10),i.rc(15),i.Pb(),i.Pb(),i.Pb(),i.Qb(16,"li",7),i.Qb(17,"a",11),i.Lb(18,"i",12),i.Qb(19,"span",10),i.rc(20),i.Pb(),i.Pb(),i.Pb(),i.Qb(21,"li",7),i.Qb(22,"a",13),i.Xb("click",function(){return e.logout()}),i.Lb(23,"i",14),i.Qb(24,"span",15),i.rc(25,"Logout"),i.Pb(),i.Pb(),i.Pb(),i.Pb(),i.Lb(26,"hr"),i.Pb()),2&t&&(i.zb(7),i.gc("ngForOf",e.items),i.zb(2),i.sc(i.bc(10,4,e.user.rol)),i.zb(6),i.tc(" ",e.user.name," "),i.zb(5),i.sc(e.user.email))},directives:[o.k,u.d,u.c],pipes:[p],styles:[".border-radius[_ngcontent-%COMP%] {\n\t\t\t\tborder-radius: 10px;\n\t\t\t}"]}),t})();var h=r("QIUk"),P=r("7zfz"),f=r("I5S5");function v(t,e){1&t&&i.Lb(0,"img",14)}function Q(t,e){if(1&t&&(i.Qb(0,"h2"),i.Qb(1,"strong"),i.rc(2),i.Pb(),i.Lb(3,"i",15),i.Pb()),2&t){const t=i.Zb();i.zb(2),i.tc("",t.countSales," Sales")}}function y(t,e){1&t&&i.Lb(0,"img",16)}function w(t,e){if(1&t&&(i.Qb(0,"h3"),i.Qb(1,"strong"),i.rc(2),i.ac(3,"currency"),i.Pb(),i.Lb(4,"i",17),i.Pb()),2&t){const t=i.Zb();i.zb(2),i.sc(i.dc(3,1,t.total,"$","symbol","1.0-0"))}}function k(t,e){if(1&t&&i.Lb(0,"p-chart",18),2&t){const t=i.Zb();i.gc("data",t.data)("options",t.options)}}let L=(()=>{class t{constructor(t,e){this.productService=t,this.saleService=e,this.listProductsName=[],this.countSales=0,this.total=0}ngAfterContentInit(){}ngOnInit(){this.productService.productsUnderStock().subscribe(t=>{const{productsName:e,productsPrice:r}=t;this.listProductsName=e,this.data={labels:this.listProductsName,datasets:[{data:r,backgroundColor:["#406882","#FF5C58","#4C3F91","#5E454B","#3A6351"],hoverBackgroundColor:["#6998AB","#FE8F8F","#9145B6","#461111","#7EB5A6"]}]}}),this.saleService.staticticsSale().subscribe(t=>{this.total=t.totalReduce,this.countSales=t.countSales}),this.options={title:{display:!0,text:"Products under stock",fontSize:25,position:"top"}}}}return t.\u0275fac=function(e){return new(e||t)(i.Kb(d),i.Kb(b))},t.\u0275cmp=i.Eb({type:t,selectors:[["app-statistics"]],decls:26,vars:0,consts:[[1,"container-fluid"],[1,"row","flex-nowrap"],[1,"col-auto","col-md-3","col-xl-2","px-sm-2","px-0","bg-dark"],[1,"col","py-3"],[1,"row","mb-2"],[1,"col-12"],["role","alert",1,"alert","mb-4","alert-warning"],[1,"row"],[1,"col-sm-12"],[1,"ms-2"],[1,"col-sm-12","col-md-6","col-lg-6","col-xl-4","mb-4","mb-md-3"],["pTemplate","header"],["pTemplate","body"],[1,"col-sm-12","col-md-12","col-lg-12","col-xl-4","mb-4","mb-md-3"],["alt","Card","src","assets/img/Sales_carried_out_in_the_month.png"],[1,"pi","pi-angle-double-up","ms-2","text-dark","bg-warning","p-1","rounded",2,"font-size","1.5rem"],["alt","Card","src","assets/img/Income_from_sales in_the_month.png"],[1,"pi","pi-angle-double-down","ms-2","text-warning","bg-dark","p-1","rounded",2,"font-size","1.5rem"],["type","doughnut",3,"data","options"]],template:function(t,e){1&t&&(i.Qb(0,"div",0),i.Qb(1,"div",1),i.Lb(2,"app-menu-store",2),i.Qb(3,"div",3),i.Qb(4,"div",4),i.Qb(5,"div",5),i.Qb(6,"div",6),i.Qb(7,"h4"),i.rc(8,"Statistics"),i.Pb(),i.Qb(9,"p"),i.rc(10," Here you can visualize your sales and the statistics of the month "),i.Pb(),i.Pb(),i.Pb(),i.Pb(),i.Qb(11,"div",7),i.Qb(12,"div",8),i.Qb(13,"h3",9),i.rc(14,"Sales of the month"),i.Pb(),i.Pb(),i.Qb(15,"div",10),i.Qb(16,"p-card"),i.pc(17,v,1,0,"ng-template",11),i.pc(18,Q,4,1,"ng-template",12),i.Pb(),i.Pb(),i.Qb(19,"div",10),i.Qb(20,"p-card"),i.pc(21,y,1,0,"ng-template",11),i.pc(22,w,5,6,"ng-template",12),i.Pb(),i.Pb(),i.Qb(23,"div",13),i.Qb(24,"p-card"),i.pc(25,k,1,2,"ng-template",12),i.Pb(),i.Pb(),i.Pb(),i.Pb(),i.Pb(),i.Pb())},directives:[g,h.a,P.e,f.b],pipes:[o.c],encapsulation:2}),t})();var S=r("PSD3"),x=r.n(S);let I=(()=>{class t{constructor(t,e){this.authService=t,this.router=e}canActivate(){return this.authService.validateTokenByRole("ADMIN_ROLE")||x.a.fire("You do not have administrator permission","","error"),this.authService.validateTokenByRole("ADMIN_ROLE")}canLoad(){return this.authService.validateTokenByRole("ADMIN_ROLE")}}return t.\u0275fac=function(e){return new(e||t)(i.Ub(l.a),i.Ub(u.b))},t.\u0275prov=i.Gb({token:t,factory:t.\u0275fac,providedIn:"root"}),t})(),C=(()=>{class t{constructor(t){this.http=t,this._urlBase=n.a.URLBASE,this.getListCategories=()=>[{name:"Grocery"},{name:"Dairy products"}]}getAllCategories(){const t=`${this._urlBase}/category`,e=(new a.c).set("x-token",localStorage.getItem("token")||"");return this.http.get(t,{headers:e})}getNameCategory(t){const e=`${this._urlBase}/${t}`,r=(new a.c).set("x-token",localStorage.getItem("token")||"");return this.http.get(e,{headers:r})}saveCategory(t){const e=`${this._urlBase}/category`,r=(new a.c).set("x-token",localStorage.getItem("token")||"");return this.http.post(e,{name:t},{headers:r})}updateCategory(t,e){const r=`${this._urlBase}/category/${t}`,o=(new a.c).set("x-token",localStorage.getItem("token")||"");return this.http.put(r,{name:e},{headers:o})}deleteCategory(t){const e=`${this._urlBase}/category/${t.uid}`,r=(new a.c).set("x-token",localStorage.getItem("token")||"");return this.http.delete(e,{headers:r})}}return t.\u0275fac=function(e){return new(e||t)(i.Ub(a.a))},t.\u0275prov=i.Gb({token:t,factory:t.\u0275fac,providedIn:"root"}),t})();function z(t,e){1&t&&(i.Qb(0,"span",16),i.rc(1," The name must be required "),i.Pb())}let F=(()=>{class t{constructor(t,e){this.fb=t,this.categoryService=e,this.categoryWasSaved=!1,this.categoryNew=new i.n,this.categoryUpdate=new i.n}ngOnChanges(t){var e,r;void 0!==this.myFormCategory&&(this.myFormCategory.controls.name.setValue(null===(e=this.categoryInput)||void 0===e?void 0:e.name),this.myFormCategory.controls._id.setValue(null===(r=this.categoryInput)||void 0===r?void 0:r.uid))}ngOnInit(){this.myFormCategory=this.fb.group({name:["",s.m.required],_id:[""]})}saveCategory(){this.categoryService.saveCategory(this.myFormCategory.controls.name.value).subscribe(t=>{this.categoryWasSaved=!0,this.showToast("Success","Saved correctly","success"),this.Restoreform(),this.categoryNew.emit(t.category)},t=>{this.Restoreform(),400==t.status&&this.showToast("Error","Check the data entered: In case the error persists, contact the technical support.","error"),500==t.status&&this.showToast("Error","HTTP server internal error","error")})}updateCategory(){this.categoryService.updateCategory(this.myFormCategory.controls._id.value,this.myFormCategory.controls.name.value).subscribe(t=>{this.Restoreform(),this.categoryWasSaved=!0,this.showToast("Saved correctly","","success"),x.a.fire("Success","Saved correctly","success"),this.categoryUpdate.emit(t.category)},t=>{this.Restoreform(),400==t.status&&this.showToast("Error 400 bad request","Check the data entered: In case the error persists, contact the technical support","error"),500==t.status&&this.showToast("Error 500 Internal Server","Contact the technical support.","error")})}fieldIsValid(t){return this.myFormCategory.controls[t].errors&&this.myFormCategory.controls[t].touched}Restoreform(){setTimeout(()=>{this.categoryWasSaved=!1,this.myFormCategory.reset()},500)}showToast(t,e,r,o=2e3){x.a.fire(t,e,r),setInterval(()=>{x.a.close()},o)}}return t.\u0275fac=function(e){return new(e||t)(i.Kb(s.b),i.Kb(C))},t.\u0275cmp=i.Eb({type:t,selectors:[["app-category-features"]],inputs:{categoryInput:"categoryInput",isNewCategory:"isNewCategory"},outputs:{categoryNew:"categoryNew",categoryUpdate:"categoryUpdate"},features:[i.xb],decls:20,vars:5,consts:[["id","modalCategory","data-bs-backdrop","static","data-bs-keyboard","false","tabindex","-1","aria-labelledby","staticBackdropLabel","aria-hidden","true",1,"modal","fade"],[1,"modal-dialog"],[1,"modal-content"],[1,"modal-header"],["id","staticBackdropLabel",1,"modal-title"],[3,"formGroup","ngSubmit"],[1,"modal-body"],[1,"input-group","mb-3"],[1,"input-group-text"],["type","text","placeholder","Name","aria-label","name","formControlName","name","aria-describedby","basic-addon1",1,"form-control"],["class","input-group alert alert-danger mb-3",4,"ngIf"],[1,"modal-footer"],["type","button","data-bs-dismiss","modal",1,"btn","btn-danger",3,"click"],[1,"pi","me-2","pi-times"],["type","submit","data-bs-dismiss","modal",1,"btn","btn-dark","float-end",3,"disabled","hidden"],[1,"pi","me-2","pi-save"],[1,"input-group","alert","alert-danger","mb-3"]],template:function(t,e){1&t&&(i.Qb(0,"div",0),i.Qb(1,"div",1),i.Qb(2,"div",2),i.Qb(3,"div",3),i.Qb(4,"h5",4),i.rc(5),i.Pb(),i.Pb(),i.Qb(6,"form",5),i.Xb("ngSubmit",function(){return 1==e.isNewCategory?e.saveCategory():e.updateCategory()}),i.Qb(7,"div",6),i.Qb(8,"div",7),i.Qb(9,"span",8),i.rc(10,"Name"),i.Pb(),i.Lb(11,"input",9),i.Pb(),i.pc(12,z,2,0,"span",10),i.Pb(),i.Qb(13,"div",11),i.Qb(14,"button",12),i.Xb("click",function(){return e.Restoreform()}),i.Lb(15,"i",13),i.rc(16," Close "),i.Pb(),i.Qb(17,"button",14),i.Lb(18,"i",15),i.rc(19," Save product "),i.Pb(),i.Pb(),i.Pb(),i.Pb(),i.Pb(),i.Pb()),2&t&&(i.zb(5),i.tc(" ",1==e.isNewCategory?"New Category":"Update Category"," "),i.zb(1),i.gc("formGroup",e.myFormCategory),i.zb(6),i.gc("ngIf",e.fieldIsValid("name")),i.zb(5),i.gc("disabled",e.myFormCategory.invalid)("hidden",e.categoryWasSaved))},directives:[s.n,s.f,s.d,s.a,s.e,s.c,o.l],styles:[".form-control[_ngcontent-%COMP%]:focus {\n      border-color: #FFCA2B !important;\n      box-shadow: 0 0 0 0.2rem rgb(255, 202, 43, 0.25) !important;\n}"]}),t})(),N=(()=>{class t{constructor(t){this.categoryService=t,this.categoryDelete=new i.n,this.eliminatedCategory=!1}ngOnInit(){}deleteCategory(t){this.categoryService.deleteCategory(t).subscribe(t=>{var e;1==t.status?(this.eliminatedCategory=!0,this.showToast("Success","Will be deleted correctly","success"),this.categoryDelete.emit(t.category)):this.showToast("Can not be eliminated",`There are ${null===(e=t.categorySelected)||void 0===e?void 0:e.length} products with this category`,"error",2e3)})}activateButtonAgain(){setTimeout(()=>{this.eliminatedCategory=!1},500)}showToast(t,e,r,o=2e3){x.a.fire(t,e,r),setInterval(()=>{x.a.close()},o)}}return t.\u0275fac=function(e){return new(e||t)(i.Kb(C))},t.\u0275cmp=i.Eb({type:t,selectors:[["app-modal-delete-category"]],inputs:{categorySelected:"categorySelected"},outputs:{categoryDelete:"categoryDelete"},decls:17,vars:3,consts:[["id","modalDeteteCategory","tabindex","-1","aria-labelledby","modalDeleteProduct","aria-hidden","true","data-bs-backdrop","static",1,"modal","fade"],[1,"modal-dialog"],[1,"modal-content"],[1,"modal-header"],["id","modalNewProduct",1,"modal-title"],["type","button","data-bs-dismiss","modal","aria-label","Close",1,"btn-close"],[1,"modal-body"],[1,"mb-3"],[1,"col-sm-12","mt-3"],["type","button","label","Back","data-bs-dismiss","modal",1,"btn","btn-danger",3,"click"],[1,"pi","me-2","pi-times"],["type","button","data-bs-dismiss","modal",1,"btn","btn-dark","float-end",3,"disabled","hidden","click"],[1,"pi","me-2","pi-trash"]],template:function(t,e){1&t&&(i.Qb(0,"div",0),i.Qb(1,"div",1),i.Qb(2,"div",2),i.Qb(3,"div",3),i.Qb(4,"h5",4),i.rc(5,"Delete category"),i.Pb(),i.Lb(6,"button",5),i.Pb(),i.Qb(7,"div",6),i.Qb(8,"h3",7),i.rc(9),i.Pb(),i.Qb(10,"div",8),i.Qb(11,"button",9),i.Xb("click",function(){return e.activateButtonAgain()}),i.Lb(12,"i",10),i.rc(13," Back "),i.Pb(),i.Qb(14,"button",11),i.Xb("click",function(){return e.deleteCategory(e.categorySelected)}),i.Lb(15,"i",12),i.rc(16," Delete category "),i.Pb(),i.Pb(),i.Pb(),i.Pb(),i.Pb(),i.Pb()),2&t&&(i.zb(9),i.sc(e.categorySelected.name),i.zb(5),i.gc("disabled",e.eliminatedCategory)("hidden",e.eliminatedCategory))},encapsulation:2}),t})();function U(t,e){1&t&&(i.Qb(0,"div",5),i.Qb(1,"strong"),i.rc(2,"Loading..."),i.Pb(),i.Lb(3,"div",6),i.Pb())}function T(t,e){if(1&t){const t=i.Rb();i.Qb(0,"tr"),i.Qb(1,"th",13),i.rc(2),i.Pb(),i.Qb(3,"td"),i.rc(4),i.Pb(),i.Qb(5,"td"),i.Qb(6,"div",14),i.Qb(7,"button",15),i.Xb("click",function(){i.lc(t);const r=e.$implicit;return i.Zb(2).goToProductByCategory(r)}),i.Lb(8,"i",16),i.rc(9," View products "),i.Pb(),i.Qb(10,"button",17),i.Xb("click",function(){i.lc(t);const r=e.$implicit;return i.Zb(2).selectCategory(!1,r)}),i.Lb(11,"i",18),i.rc(12," Edit "),i.Pb(),i.Qb(13,"button",19),i.Xb("click",function(){i.lc(t);const r=e.$implicit;return i.Zb(2).selectCategory(!1,r)}),i.Lb(14,"i",20),i.rc(15," Delete "),i.Pb(),i.Pb(),i.Pb(),i.Pb()}if(2&t){const t=e.$implicit,r=e.index;i.zb(2),i.sc(r+1),i.zb(2),i.sc(t.name)}}function O(t,e){if(1&t){const t=i.Rb();i.Qb(0,"div",7),i.Qb(1,"button",8),i.Xb("click",function(){return i.lc(t),i.Zb().selectCategory(!0)}),i.Lb(2,"i",9),i.rc(3," New category\n"),i.Pb(),i.Qb(4,"table",10),i.Qb(5,"thead"),i.Qb(6,"tr"),i.Qb(7,"th",11),i.rc(8,"#"),i.Pb(),i.Qb(9,"th",11),i.rc(10,"Name"),i.Pb(),i.Qb(11,"th",11),i.rc(12,"Actions"),i.Pb(),i.Pb(),i.Pb(),i.Qb(13,"tbody"),i.pc(14,T,16,2,"tr",12),i.Pb(),i.Pb(),i.Pb()}if(2&t){const t=i.Zb();i.zb(14),i.gc("ngForOf",t.listCategories)}}function E(t,e){1&t&&(i.Qb(0,"div",22),i.rc(1," No categories were found! "),i.Pb())}function A(t,e){if(1&t&&i.pc(0,E,2,0,"div",21),2&t){const t=i.Zb();i.gc("ngIf",0==t.showLoading)}}let D=(()=>{class t{constructor(t,e){this.categoriesService=t,this.router=e,this.listCategories=[],this.categorySelected={name:"Abarrates"},this.isNewCategory=!0,this.showLoading=!0}ngOnInit(){this.showLoading=!0,this.categoriesService.getAllCategories().subscribe(t=>{this.listCategories=t.categories,this.showLoading=!1},t=>{this.showLoading=!1})}selectCategory(t,e){void 0!==e&&(this.categorySelected=e),this.isNewCategory=t}addToTheList(t){this.listCategories.push(t)}updateToTheList(t){const e=this.listCategories.findIndex(e=>e.uid==t.uid);let r=[...this.listCategories];r[e]=Object.assign(Object.assign({},r[e]),{name:t.name,uid:t.uid}),this.listCategories=r}deleteToTheList(t){this.listCategories=this.listCategories.filter(e=>e.uid!==t.uid)}goToProductByCategory(t){this.router.navigate(["/store/products"],{queryParams:{categoryid:t.uid}})}}return t.\u0275fac=function(e){return new(e||t)(i.Kb(C),i.Kb(u.b))},t.\u0275cmp=i.Eb({type:t,selectors:[["app-list-categories"]],decls:6,vars:6,consts:[["class","d-flex align-items-center p-3",4,"ngIf"],["class","table-responsive",4,"ngIf","ngIfElse"],["messageThereAreNoCategories",""],[3,"categoryInput","isNewCategory","categoryNew","categoryUpdate"],[3,"categorySelected","categoryDelete"],[1,"d-flex","align-items-center","p-3"],["role","status","aria-hidden","true",1,"spinner-border","ms-auto","text-warning"],[1,"table-responsive"],["label","New category","data-bs-target","#modalCategory","data-bs-toggle","modal",1,"mb-4","btn","btn-dark",3,"click"],[1,"pi","me-2","pi-plus"],[1,"table","table-sm"],["scope","col"],[4,"ngFor","ngForOf"],["scope","row"],[1,"d-grid","gap-3","d-md-block"],[1,"btn","btn-dark","mx-md-1","mb-2","mb-sm-2","mx-sm-2","mx-2","me-sm-4",3,"click"],[1,"pi","me-2","pi-eye"],["data-bs-target","#modalCategory","data-bs-toggle","modal",1,"btn","btn-warning","mx-md-1","mb-2","mb-sm-2","mx-sm-2","mx-2","me-sm-4",3,"click"],[1,"pi","me-2","pi-pencil"],["data-bs-target","#modalDeteteCategory","data-bs-toggle","modal",1,"btn","btn-danger","mx-md-1","mb-2","mb-sm-2","mx-sm-2","mx-2","me-sm-4",3,"click"],[1,"pi","me-2","pi-trash"],["class","alert alert-danger","role","alert",4,"ngIf"],["role","alert",1,"alert","alert-danger"]],template:function(t,e){if(1&t&&(i.pc(0,U,4,0,"div",0),i.pc(1,O,15,1,"div",1),i.pc(2,A,1,1,"ng-template",null,2,i.qc),i.Qb(4,"app-category-features",3),i.Xb("categoryNew",function(t){return e.addToTheList(t)})("categoryUpdate",function(t){return e.updateToTheList(t)}),i.Pb(),i.Qb(5,"app-modal-delete-category",4),i.Xb("categoryDelete",function(t){return e.deleteToTheList(t)}),i.Pb()),2&t){const t=i.kc(3);i.gc("ngIf",e.showLoading),i.zb(1),i.gc("ngIf",0!==e.listCategories.length)("ngIfElse",t),i.zb(3),i.gc("categoryInput",e.categorySelected)("isNewCategory",e.isNewCategory),i.zb(1),i.gc("categorySelected",e.categorySelected)}},directives:[o.l,F,N,o.k],encapsulation:2}),t})(),B=(()=>{class t{constructor(){}ngOnInit(){}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275cmp=i.Eb({type:t,selectors:[["app-category"]],decls:11,vars:0,consts:[[1,"container-fluid"],[1,"row","flex-nowrap"],[1,"col-auto","col-md-3","col-xl-2","px-sm-2","px-0","bg-dark"],[1,"col","py-3"],[1,"row","justify-content-lg-center"],[1,"col-12","col-sm-12","col-md-12","col-lg-12","col-xl-11"],[1,"alert","alert-warning"]],template:function(t,e){1&t&&(i.Qb(0,"div",0),i.Qb(1,"div",1),i.Lb(2,"app-menu-store",2),i.Qb(3,"div",3),i.Qb(4,"div",4),i.Qb(5,"div",5),i.Qb(6,"div",6),i.Qb(7,"h4"),i.rc(8,"List categories"),i.Pb(),i.Pb(),i.Pb(),i.Qb(9,"div",5),i.Lb(10,"app-list-categories"),i.Pb(),i.Pb(),i.Pb(),i.Pb(),i.Pb())},directives:[g,D],encapsulation:2}),t})(),_=(()=>{class t{constructor(t){this.router=t}redirect(t){this.router.navigateByUrl(t)}}return t.\u0275fac=function(e){return new(e||t)(i.Kb(u.b))},t.\u0275cmp=i.Eb({type:t,selectors:[["app-home"]],decls:32,vars:0,consts:[[1,"container-fluid"],[1,"row","flex-nowrap"],[1,"col-auto","col-md-3","col-xl-2","px-sm-2","px-0","bg-dark"],[1,"col","py-3"],[1,"row","justify-content-md-start","d-xxl-none","mb-3","mb-sm-1","mb-md-0"],[1,"col-auto","col-sm-12","col-md-8","col-lg-7","col-xl-6"],["src","assets/img/home.png","alt","","draggable","false",1,"img-fluid",3,"click"],[1,"row","justify-content-md-end","d-xxl-none","mb-3","mb-sm-1","mb-md-0"],["src","assets/img/products.png","alt","","draggable","false",1,"img-fluid",3,"click"],[1,"col-xxl-3"],["src","assets/img/sales.png","alt","","draggable","false",1,"img-fluid",3,"click"],[1,"row","justify-xxl-center","d-none","d-sm-none","d-md-none","d-lg-none","d-xl-none","d-xxl-inline","mb-3"],[1,"col-xl-8","ms-5"],["id","carouselExampleControls","data-bs-ride","carousel",1,"carousel","slide","ms-5"],[1,"carousel-inner"],[1,"carousel-item","active"],["src","assets/img/home.png","alt","...",1,"d-block","w-100","img-fluid"],[1,"carousel-item"],["src","assets/img/products.png","alt","...",1,"d-block","w-100"],["src","assets/img/sales.png","alt","...",1,"d-block","w-100"],["type","button","data-bs-target","#carouselExampleControls","data-bs-slide","prev",1,"carousel-control-prev"],["aria-hidden","true",1,"carousel-control-prev-icon"],[1,"visually-hidden"],["type","button","data-bs-target","#carouselExampleControls","data-bs-slide","next",1,"carousel-control-next"],["aria-hidden","true",1,"carousel-control-next-icon"]],template:function(t,e){1&t&&(i.Qb(0,"div",0),i.Qb(1,"div",1),i.Lb(2,"app-menu-store",2),i.Qb(3,"div",3),i.Qb(4,"div",4),i.Qb(5,"div",5),i.Qb(6,"img",6),i.Xb("click",function(){return e.redirect("store/home")}),i.Pb(),i.Pb(),i.Pb(),i.Qb(7,"div",7),i.Qb(8,"div",5),i.Qb(9,"img",8),i.Xb("click",function(){return e.redirect("store/products")}),i.Pb(),i.Pb(),i.Lb(10,"div",9),i.Pb(),i.Qb(11,"div",4),i.Qb(12,"div",5),i.Qb(13,"img",10),i.Xb("click",function(){return e.redirect("store/sales")}),i.Pb(),i.Pb(),i.Pb(),i.Qb(14,"div",11),i.Qb(15,"div",12),i.Qb(16,"div",13),i.Qb(17,"div",14),i.Qb(18,"div",15),i.Lb(19,"img",16),i.Pb(),i.Qb(20,"div",17),i.Lb(21,"img",18),i.Pb(),i.Qb(22,"div",17),i.Lb(23,"img",19),i.Pb(),i.Pb(),i.Qb(24,"button",20),i.Lb(25,"span",21),i.Qb(26,"span",22),i.rc(27,"Previous"),i.Pb(),i.Pb(),i.Qb(28,"button",23),i.Lb(29,"span",24),i.Qb(30,"span",22),i.rc(31,"Next"),i.Pb(),i.Pb(),i.Pb(),i.Pb(),i.Pb(),i.Pb(),i.Pb(),i.Pb())},directives:[g],encapsulation:2}),t})();function $(t,e){if(1&t&&(i.Qb(0,"div",4),i.Qb(1,"li"),i.rc(2),i.Pb(),i.Pb()),2&t){const t=e.$implicit;i.zb(2),i.sc(t)}}let R=(()=>{class t{constructor(){}ngOnInit(){this.listFuntion=["Create product","See detail","Edit product","Remove product","Search for the name"]}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275cmp=i.Eb({type:t,selectors:[["app-product-functions-list"]],decls:8,vars:1,consts:[["role","alert",1,"alert","alert-warning","mb-4"],[1,"list-unstyled"],[1,"row"],["class","col-sm-12 col-md-6 col-lg-4 col-xl-3",4,"ngFor","ngForOf"],[1,"col-sm-12","col-md-6","col-lg-4","col-xl-3"]],template:function(t,e){1&t&&(i.Qb(0,"div",0),i.Qb(1,"h4"),i.rc(2,"List products"),i.Pb(),i.Qb(3,"p"),i.rc(4,"Full list of all products in DB"),i.Pb(),i.Qb(5,"ul",1),i.Qb(6,"div",2),i.pc(7,$,3,1,"div",3),i.Pb(),i.Pb(),i.Pb()),2&t&&(i.zb(7),i.gc("ngForOf",e.listFuntion))},directives:[o.k],encapsulation:2}),t})();var q=r("Gxio");function X(t,e){if(1&t&&(i.Qb(0,"option",18),i.rc(1),i.Pb()),2&t){const t=e.$implicit;i.gc("value",t.uid),i.zb(1),i.sc(t.name)}}function Z(t,e){if(1&t&&(i.Qb(0,"option",18),i.rc(1),i.Pb()),2&t){const t=e.$implicit;i.gc("value",t.uid),i.zb(1),i.sc(t.name)}}let M=(()=>{class t{constructor(t,e,r){this.fb=t,this.productService=e,this.categoryService=r,this.categoryList=[],this.productSearch=new i.n}ngOnInit(){this.searchForm=this.fb.group({product:["",s.m.required],category:["",s.m.required]}),this.categoryService.getAllCategories().subscribe(t=>{this.categoryList=t.categories})}searchProduct(){const t=this.searchForm.controls.product.value,e=this.searchForm.controls.category.value;t.length>=1?this.productService.getProductById(t).subscribe(t=>{this.productSearch.emit(t),this.searchForm.controls.product.reset(""),this.searchForm.controls.category.reset(""),this.showToast("Success","It was filtered by product name","success"),0===t.length?this.showToast("Ups!","No result for search","info",1e3):this.showToast("Success","it was filtered by category name","success",1e3)},()=>{this.showToast("Error","Contact technical support","error")}):this.productService.getProductById("",e).subscribe(t=>{this.productSearch.emit(t),this.searchForm.controls.category.reset(""),this.searchForm.controls.product.reset(""),0===t.length?this.showToast("Ups!","No result for search","info",1e3):this.showToast("Success","it was filtered by category name","success",1e3)},()=>{this.showToast("Error","Contact technical support","error")})}getAllProducts(){this.searchForm.controls.product.reset(),this.productService.getAllProducts().subscribe(t=>{this.productSearch.emit(t.products)})}showToast(t,e,r,o=2e3){x.a.fire(t,e,r),setInterval(()=>{x.a.close()},o)}}return t.\u0275fac=function(e){return new(e||t)(i.Kb(s.b),i.Kb(d),i.Kb(C))},t.\u0275cmp=i.Eb({type:t,selectors:[["app-search"]],outputs:{productSearch:"productSearch"},decls:52,vars:7,consts:[[1,"mt-2"],[1,"mb-5",3,"formGroup","ngSubmit"],[1,"d-none","d-md-block"],[1,"input-group"],["type","search","placeholder","Search product name","aria-label","Search","aria-describedby","search-addon","formControlName","product",1,"form-control","rounded"],["type","submit",1,"btn","btn-outline-dark",3,"disabled"],[1,"pi","me-2","pi-search"],["type","button",1,"btn","btn-outline-danger",3,"click"],[1,"pi","me-2","pi-times"],[1,"d-block","d-md-none"],[1,"row","mb-3"],[1,"col-sm-12"],[1,"row","mb-1"],["role","group",1,"btn-group"],[1,"d-grid","gap-2","d-block","float-end","mb-1","mb-md-0"],[1,"input-group","mt-3"],["type","search","formControlName","category",1,"form-select","rounded"],[3,"value",4,"ngFor","ngForOf"],[3,"value"]],template:function(t,e){1&t&&(i.Qb(0,"div",0),i.Qb(1,"form",1),i.Xb("ngSubmit",function(){return e.searchProduct()}),i.Qb(2,"div",2),i.Qb(3,"div",3),i.Lb(4,"input",4),i.Qb(5,"button",5),i.Lb(6,"i",6),i.rc(7," Search "),i.Pb(),i.Qb(8,"button",7),i.Xb("click",function(){return e.getAllProducts()}),i.Lb(9,"i",8),i.rc(10," Clear "),i.Pb(),i.Pb(),i.Pb(),i.Qb(11,"div",9),i.Qb(12,"div",10),i.Qb(13,"div",11),i.Lb(14,"input",4),i.Pb(),i.Pb(),i.Qb(15,"div",12),i.Qb(16,"div",13),i.Qb(17,"button",5),i.Lb(18,"i",6),i.rc(19," Search "),i.Pb(),i.Qb(20,"button",7),i.Xb("click",function(){return e.getAllProducts()}),i.Lb(21,"i",8),i.rc(22," Clear "),i.Pb(),i.Pb(),i.Qb(23,"div",14),i.Lb(24,"div",11),i.Pb(),i.Pb(),i.Pb(),i.Qb(25,"div",2),i.Qb(26,"div",15),i.Qb(27,"select",16),i.pc(28,X,2,2,"option",17),i.Pb(),i.Qb(29,"button",5),i.Lb(30,"i",6),i.rc(31," Search "),i.Pb(),i.Qb(32,"button",7),i.Xb("click",function(){return e.getAllProducts()}),i.Lb(33,"i",8),i.rc(34," Clear "),i.Pb(),i.Pb(),i.Pb(),i.Qb(35,"div",9),i.Qb(36,"div",10),i.Qb(37,"div",11),i.Qb(38,"div",15),i.Qb(39,"select",16),i.pc(40,Z,2,2,"option",17),i.Pb(),i.Pb(),i.Pb(),i.Pb(),i.Qb(41,"div",12),i.Qb(42,"div",13),i.Qb(43,"button",5),i.Lb(44,"i",6),i.rc(45," Search "),i.Pb(),i.Qb(46,"button",7),i.Xb("click",function(){return e.getAllProducts()}),i.Lb(47,"i",8),i.rc(48," Clear "),i.Pb(),i.Pb(),i.Qb(49,"div",14),i.Lb(50,"div",11),i.Pb(),i.Pb(),i.Pb(),i.Pb(),i.Pb(),i.Lb(51,"p-toast")),2&t&&(i.zb(1),i.gc("formGroup",e.searchForm),i.zb(4),i.gc("disabled",e.searchForm.controls.product.invalid),i.zb(12),i.gc("disabled",e.searchForm.controls.product.invalid),i.zb(11),i.gc("ngForOf",e.categoryList),i.zb(1),i.gc("disabled",e.searchForm.controls.category.invalid),i.zb(11),i.gc("ngForOf",e.categoryList),i.zb(3),i.gc("disabled",e.searchForm.controls.category.invalid))},directives:[s.n,s.f,s.d,s.a,s.e,s.c,s.l,o.k,q.a,s.g,s.o],styles:[".form-control[_ngcontent-%COMP%]:focus {\n      border-color: #FFCA2B !important;\n      box-shadow: 0 0 0 0.2rem rgb(255, 202, 43, 0.25) !important;\n}"]}),t})();var K=r("jhN1");function V(t,e){1&t&&(i.Qb(0,"span",26),i.rc(1," The name must be required "),i.Pb())}function j(t,e){1&t&&(i.Qb(0,"span",26),i.rc(1," The description must be required "),i.Pb())}function G(t,e){1&t&&(i.Qb(0,"span",26),i.rc(1," The img must be required "),i.Pb())}function W(t,e){1&t&&(i.Qb(0,"span",26),i.rc(1," The Price must be required "),i.Pb())}function H(t,e){1&t&&(i.Qb(0,"span",26),i.rc(1," The stock must be required "),i.Pb())}function Y(t,e){if(1&t&&(i.Qb(0,"option",27),i.rc(1),i.Pb()),2&t){const t=e.$implicit;i.gc("value",t.uid),i.zb(1),i.sc(t.name)}}function J(t,e){1&t&&(i.Qb(0,"span",26),i.rc(1," The category must be required "),i.Pb())}let tt=(()=>{class t{constructor(t,e,r,o){this.fb=t,this.productService=e,this.categoryService=r,this.sanitizer=o,this.productNew=new i.n,this.productUpdate=new i.n,this.listCategories=[{name:"default"}],this.productWasSaved=!1,this.showLoading=!1,this.files=[]}ngOnChanges(t){var e,r,o,s,c,i,a;1==this.isNewProduct&&this.Restoreform(),void 0!==this.myFormProduct&&(this.myFormProduct.controls._id.setValue(null===(e=this.productInput)||void 0===e?void 0:e._id),this.myFormProduct.controls.name.setValue(null===(r=this.productInput)||void 0===r?void 0:r.name),this.myFormProduct.controls.description.setValue(null===(o=this.productInput)||void 0===o?void 0:o.description),this.myFormProduct.controls.img.setValue(null===(s=this.productInput)||void 0===s?void 0:s.img),this.myFormProduct.controls.category.setValue(null===(c=this.productInput)||void 0===c?void 0:c.category),this.myFormProduct.controls.price.setValue(null===(i=this.productInput)||void 0===i?void 0:i.price),this.myFormProduct.controls.stock.setValue(null===(a=this.productInput)||void 0===a?void 0:a.stock))}ngOnInit(){this.myFormProduct=this.fb.group({_id:[this.productInput._id],name:[this.productInput.name,s.m.required],img:[this.productInput.img,s.m.required],description:[this.productInput.description,s.m.required],price:[this.productInput.price,s.m.required],stock:[this.productInput.stock,s.m.required],category:[this.productInput.category,s.m.required]}),this.categoryService.getAllCategories().subscribe(t=>{this.listCategories=t.categories})}fieldIsValid(t){return this.myFormProduct.controls[t].errors&&this.myFormProduct.controls[t].touched}clearForm(){this.myFormProduct.reset()}saveProduct(){try{this.showLoading=!0;const t=new FormData;t.append("category",this.myFormProduct.controls.category.value),t.append("description",this.myFormProduct.controls.description.value),t.append("img",this.myFormProduct.controls.img.value),t.append("name",this.myFormProduct.controls.name.value),t.append("price",this.myFormProduct.controls.price.value),t.append("stock",this.myFormProduct.controls.stock.value),t.append("_id",this.myFormProduct.controls._id.value),this.productService.saveNewProduct(t).subscribe(t=>{this.showToast("Success","Saved correctly","success"),this.productWasSaved=!0,this.productNew.emit(t.product),this.showLoading=!1,this.Restoreform()},t=>{this.showLoading=!1,console.log(t.error),400==t.status&&this.showToast("Error 400 bad request","Check the data entered: In case the error persists, contact the technical support","error"),500==t.status&&this.showToast("Error 500 Internal Server","Contact the technical support.","error"),this.showToast("Error",t.error.msg,"error"),this.Restoreform(),setInterval(()=>{x.a.close()},2e3)})}catch(t){}}updateProduct(){const t=new FormData;t.append("files",this.files[0]),t.append("category",this.myFormProduct.controls.category.value),t.append("description",this.myFormProduct.controls.description.value),t.append("img",this.myFormProduct.controls.img.value),t.append("name",this.myFormProduct.controls.name.value),t.append("price",this.myFormProduct.controls.price.value),t.append("stock",this.myFormProduct.controls.stock.value),t.append("_id",this.myFormProduct.controls._id.value),this.productService.updateProduct(t,this.myFormProduct.controls._id.value).subscribe(t=>{this.showToast("Success","Saved correctly","success"),this.productWasSaved=!0,this.productUpdate.emit(t.product),this.Restoreform()},t=>{400==t.status&&this.showToast("Error 400 Bad Request","Check the data entered: In case the error persists, contact the technical support.","error"),500==t.status&&this.showToast("Error 500 Internal server","Contact the technical support","error")})}Restoreform(){void 0!==this.myFormProduct&&this.myFormProduct.reset()}showToast(t,e,r,o=2e3){x.a.fire(t,e,r),setInterval(()=>{x.a.close()},o)}}return t.\u0275fac=function(e){return new(e||t)(i.Kb(s.b),i.Kb(d),i.Kb(C),i.Kb(K.b))},t.\u0275cmp=i.Eb({type:t,selectors:[["app-product-add-and-update"]],inputs:{productInput:"productInput",isNewProduct:"isNewProduct"},outputs:{productNew:"productNew",productUpdate:"productUpdate"},features:[i.xb],decls:53,vars:12,consts:[["id","modalProduct","data-bs-backdrop","static","data-bs-keyboard","false","tabindex","-1","aria-labelledby","staticBackdropLabel","aria-hidden","true",1,"modal","fade"],[1,"modal-dialog"],[1,"modal-content"],[1,"modal-header","mb-3"],["id","staticBackdropLabel",1,"modal-title"],[3,"formGroup","ngSubmit"],[1,"modal-body"],[1,"input-group","mb-3"],[1,"input-group-text"],["type","text","placeholder","Name","aria-label","name","formControlName","name","aria-describedby","basic-addon1","required","",1,"form-control"],["class","input-group alert alert-danger mb-3",4,"ngIf"],["aria-label","description","formControlName","description","required","",1,"form-control"],["type","url","aria-label","imgProduct","formControlName","img","aria-describedby","basic-addon1","required","",1,"form-control"],["type","number","formControlName","price","aria-label","price","required","",1,"form-control"],["type","number","formControlName","stock","required","",1,"form-control"],["formControlName","category","aria-label","Default select example","required","",1,"form-select"],[3,"value",4,"ngFor","ngForOf"],[1,"modal-footer"],["type","button","data-bs-dismiss","modal",1,"btn","btn-danger",3,"click"],[1,"pi","me-2","pi-times"],["type","submit","data-bs-dismiss","modal",1,"btn","btn-dark","float-end",3,"disabled","hidden"],[1,"pi","me-2","pi-save"],[1,"text-center","mt-5","mb-5",3,"hidden"],[1,"mb-3"],["role","status",1,"spinner-border","text-warning"],[1,"visually-hidden"],[1,"input-group","alert","alert-danger","mb-3"],[3,"value"]],template:function(t,e){1&t&&(i.Qb(0,"div",0),i.Qb(1,"div",1),i.Qb(2,"div",2),i.Qb(3,"div",3),i.Qb(4,"h5",4),i.rc(5),i.Pb(),i.Pb(),i.Qb(6,"form",5),i.Xb("ngSubmit",function(){return 1==e.isNewProduct?e.saveProduct():e.updateProduct()}),i.Qb(7,"div",6),i.Qb(8,"div",7),i.Qb(9,"span",8),i.rc(10,"* Name"),i.Pb(),i.Lb(11,"input",9),i.Pb(),i.pc(12,V,2,0,"span",10),i.Qb(13,"div",7),i.Qb(14,"span",8),i.rc(15,"* Description"),i.Pb(),i.Lb(16,"textarea",11),i.Pb(),i.pc(17,j,2,0,"span",10),i.Qb(18,"div",7),i.Qb(19,"span",8),i.rc(20,"* Img"),i.Pb(),i.Lb(21,"input",12),i.Pb(),i.pc(22,G,2,0,"span",10),i.Qb(23,"div",7),i.Qb(24,"span",8),i.rc(25,"* Price $"),i.Pb(),i.Lb(26,"input",13),i.Pb(),i.pc(27,W,2,0,"span",10),i.Qb(28,"div",7),i.Qb(29,"span",8),i.rc(30,"* Stock"),i.Pb(),i.Lb(31,"input",14),i.Pb(),i.pc(32,H,2,0,"span",10),i.Qb(33,"div",7),i.Qb(34,"span",8),i.rc(35,"* Category"),i.Pb(),i.Qb(36,"select",15),i.pc(37,Y,2,2,"option",16),i.Pb(),i.Pb(),i.pc(38,J,2,0,"span",10),i.Pb(),i.Qb(39,"div",17),i.Qb(40,"button",18),i.Xb("click",function(){return e.Restoreform()}),i.Lb(41,"i",19),i.rc(42," Close "),i.Pb(),i.Qb(43,"button",20),i.Lb(44,"i",21),i.rc(45," Save product "),i.Pb(),i.Pb(),i.Qb(46,"div",22),i.Qb(47,"h3",23),i.rc(48,"Loading..."),i.Pb(),i.Qb(49,"div",24),i.Qb(50,"span",25),i.rc(51,"Loading..."),i.Pb(),i.Pb(),i.Pb(),i.Pb(),i.Pb(),i.Pb(),i.Pb(),i.Lb(52,"p-toast")),2&t&&(i.zb(5),i.tc(" ",1==e.isNewProduct?" New product":"Update product"," "),i.zb(1),i.gc("formGroup",e.myFormProduct),i.zb(6),i.gc("ngIf",e.fieldIsValid("name")),i.zb(5),i.gc("ngIf",e.fieldIsValid("description")),i.zb(5),i.gc("ngIf",e.fieldIsValid("img")),i.zb(5),i.gc("ngIf",e.fieldIsValid("price")),i.zb(5),i.gc("ngIf",e.fieldIsValid("stock")),i.zb(5),i.gc("ngForOf",e.listCategories),i.zb(1),i.gc("ngIf",e.fieldIsValid("category")),i.zb(5),i.gc("disabled",e.myFormProduct.invalid||e.showLoading)("hidden",e.productWasSaved),i.zb(3),i.gc("hidden",!e.showLoading))},directives:[s.n,s.f,s.d,s.a,s.e,s.c,s.k,o.l,s.h,s.l,o.k,q.a,s.g,s.o],styles:[".form-control[_ngcontent-%COMP%]:focus, .form-select[_ngcontent-%COMP%]:focus {\n\t\t\t\tborder-color: #ffca2b !important;\n\t\t\t\tbox-shadow: 0 0 0 0.2rem rgb(255, 202, 43, 0.25) !important;\n\t\t\t}"]}),t})(),et=(()=>{class t{constructor(t){this.productService=t,this.productDelete=new i.n,this.productRemoved=!1,this.showLoading=!1}ngOnInit(){}deleteProduct(){this.showLoading=!0,this.productService.deleteProduct(this.productSelected).subscribe(t=>{this.productDelete.emit(t.product),this.productRemoved=!0,this.showLoading=!1,this.showToast("Success","It was deleted correctly","success"),this.activateButtonAgain()},t=>{this.showToast("Error",t.msg,"error"),this.activateButtonAgain(),this.showLoading=!1})}activateButtonAgain(){setTimeout(()=>{this.productRemoved=!1},1e3)}showToast(t,e,r,o=2e3){x.a.fire(t,e,r),setInterval(()=>{x.a.close()},o)}}return t.\u0275fac=function(e){return new(e||t)(i.Kb(d))},t.\u0275cmp=i.Eb({type:t,selectors:[["app-modal-delete-product"]],inputs:{productSelected:"productSelected",productRemoved:"productRemoved"},outputs:{productDelete:"productDelete"},decls:31,vars:6,consts:[["id","modalDeleteProduct","tabindex","-1","aria-labelledby","modalDeleteProduct","aria-hidden","true","data-bs-backdrop","static",1,"modal","fade"],[1,"modal-dialog"],[1,"modal-content"],[1,"modal-header"],["id","modalNewProduct",1,"modal-title"],["type","button","data-bs-dismiss","modal","aria-label","Close",1,"btn-close"],[1,"modal-body"],[1,"row"],[1,"col-sm-3"],[1,"col-sm-9"],[1,"col-sm-12","mt-3"],["type","button","data-bs-dismiss","modal",1,"btn","btn-danger",3,"click"],[1,"pi","me-2","pi-times"],["type","button","data-bs-dismiss","modal",1,"btn","btn-dark","float-end",3,"disabled","hidden","click"],[1,"pi","me-2","pi-trash"],[1,"text-center","mt-5","mb-5",3,"hidden"],[1,"mb-3"],["role","status",1,"spinner-border","text-warning"],[1,"visually-hidden"]],template:function(t,e){1&t&&(i.Qb(0,"div",0),i.Qb(1,"div",1),i.Qb(2,"div",2),i.Qb(3,"div",3),i.Qb(4,"h5",4),i.rc(5),i.Pb(),i.Lb(6,"button",5),i.Pb(),i.Qb(7,"div",6),i.Qb(8,"dl",7),i.Qb(9,"dt",8),i.rc(10,"Category:"),i.Pb(),i.Qb(11,"dd",9),i.rc(12),i.Pb(),i.Qb(13,"dt",8),i.rc(14,"Description:"),i.Pb(),i.Qb(15,"dd",9),i.Qb(16,"p"),i.rc(17),i.Pb(),i.Pb(),i.Qb(18,"div",10),i.Qb(19,"button",11),i.Xb("click",function(){return e.activateButtonAgain()}),i.Lb(20,"i",12),i.rc(21," Back "),i.Pb(),i.Qb(22,"button",13),i.Xb("click",function(){return e.deleteProduct()}),i.Lb(23,"i",14),i.rc(24," Delete product "),i.Pb(),i.Pb(),i.Pb(),i.Qb(25,"div",15),i.Qb(26,"h3",16),i.rc(27,"Loading..."),i.Pb(),i.Qb(28,"div",17),i.Qb(29,"span",18),i.rc(30,"Loading..."),i.Pb(),i.Pb(),i.Pb(),i.Pb(),i.Pb(),i.Pb(),i.Pb()),2&t&&(i.zb(5),i.tc(" Delete Product: ",e.productSelected.name," "),i.zb(7),i.sc(e.productSelected.category),i.zb(5),i.sc(e.productSelected.description),i.zb(5),i.gc("disabled",e.productRemoved||e.showLoading)("hidden",e.productRemoved),i.zb(3),i.gc("hidden",!e.showLoading))},encapsulation:2}),t})(),rt=(()=>{class t{constructor(){this.nameProduct="name",this.descriptionProduct="description",this.priceProduct=0,this.stockProduct=0,this.imgProduct="",this.categoryProduct=" ",this.products=[]}ngOnInit(){}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275cmp=i.Eb({type:t,selectors:[["app-card-product"]],inputs:{nameProduct:"nameProduct",descriptionProduct:"descriptionProduct",priceProduct:"priceProduct",stockProduct:"stockProduct",imgProduct:"imgProduct",categoryProduct:"categoryProduct",products:"products"},decls:27,vars:16,consts:[[1,"card-body"],[1,"card-text"],[1,"text-muted"],[1,"img-fluid",3,"src","alt"],["type","button","label","Close","data-bs-dismiss","modal",1,"btn","btn-danger","float-end","mt-5"],[1,"pi","me-2","pi-times"]],template:function(t,e){1&t&&(i.Qb(0,"div",0),i.Qb(1,"p",1),i.Qb(2,"strong"),i.rc(3,"Product: "),i.Pb(),i.rc(4),i.ac(5,"titlecase"),i.Qb(6,"small",2),i.rc(7),i.Pb(),i.Lb(8,"br"),i.Qb(9,"strong"),i.rc(10,"Description: "),i.Pb(),i.rc(11),i.ac(12,"titlecase"),i.Lb(13,"br"),i.Qb(14,"strong"),i.rc(15,"Price: "),i.Pb(),i.rc(16),i.ac(17,"currency"),i.Lb(18,"br"),i.Qb(19,"strong"),i.rc(20,"Stock: "),i.Pb(),i.rc(21),i.Pb(),i.Qb(22,"div",1),i.Lb(23,"img",3),i.Pb(),i.Qb(24,"button",4),i.Lb(25,"i",5),i.rc(26," Close\n"),i.Pb(),i.Pb()),2&t&&(i.zb(4),i.tc("",i.bc(5,7,e.nameProduct)," | "),i.zb(3),i.sc(e.categoryProduct),i.zb(4),i.tc(" ",i.bc(12,9,e.descriptionProduct)," "),i.zb(5),i.tc(" ",i.dc(17,11,e.priceProduct,"USD","symbol","1.0-0")," "),i.zb(5),i.tc(" ",e.stockProduct," U "),i.zb(2),i.gc("src",e.imgProduct,i.mc)("alt",e.nameProduct))},pipes:[o.q,o.c],encapsulation:2}),t})(),ot=(()=>{class t{constructor(){}ngOnInit(){}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275cmp=i.Eb({type:t,selectors:[["app-product-detail"]],inputs:{productSelected:"productSelected"},decls:9,vars:6,consts:[["id","modalDetailProduct","tabindex","-1","aria-labelledby","modalDetailProduct","aria-hidden","true","data-bs-backdrop","static",1,"modal","fade"],[1,"modal-dialog"],[1,"modal-content"],[1,"modal-header"],["id","modalNewProduct",1,"modal-title"],["type","button","data-bs-dismiss","modal","aria-label","Close",1,"btn-close"],[1,"modal-body"],[3,"nameProduct","imgProduct","descriptionProduct","priceProduct","stockProduct","categoryProduct"]],template:function(t,e){1&t&&(i.Qb(0,"div",0),i.Qb(1,"div",1),i.Qb(2,"div",2),i.Qb(3,"div",3),i.Qb(4,"h5",4),i.rc(5,"Detail Product"),i.Pb(),i.Lb(6,"button",5),i.Pb(),i.Qb(7,"div",6),i.Lb(8,"app-card-product",7),i.Pb(),i.Pb(),i.Pb(),i.Pb()),2&t&&(i.zb(8),i.gc("nameProduct",e.productSelected.name)("imgProduct",e.productSelected.img)("descriptionProduct",e.productSelected.description)("priceProduct",e.productSelected.price)("stockProduct",e.productSelected.stock)("categoryProduct",e.productSelected.category))},directives:[rt],encapsulation:2}),t})();function st(t,e){1&t&&(i.Qb(0,"div",5),i.Qb(1,"strong"),i.rc(2,"Loading..."),i.Pb(),i.Lb(3,"div",6),i.Pb())}function ct(t,e){1&t&&(i.Qb(0,"td"),i.Qb(1,"span",46),i.rc(2," Out of stock "),i.Pb(),i.Pb())}function it(t,e){if(1&t&&(i.Qb(0,"td"),i.Qb(1,"span"),i.rc(2),i.Pb(),i.Pb()),2&t){const t=i.Zb().$implicit;i.zb(1),i.Bb(t.stock>0&&t.stock<4?"badge bg-warning":"badge bg-dark"),i.zb(1),i.tc(" ",t.stock>0&&t.stock<4?"Under inventory":"Available"," ")}}function at(t,e){1&t&&(i.Qb(0,"td"),i.Qb(1,"span",46),i.rc(2," Out of stock "),i.Pb(),i.Pb())}function nt(t,e){if(1&t&&(i.Qb(0,"td"),i.Qb(1,"span"),i.rc(2),i.Pb(),i.Pb()),2&t){const t=i.Zb().$implicit;i.zb(1),i.Bb(t.stock>0&&t.stock<4?"badge bg-warning":"badge bg-dark"),i.zb(1),i.tc(" ",t.stock>0&&t.stock<4?"Under inventory":"Available"," ")}}function dt(t,e){if(1&t){const t=i.Rb();i.Qb(0,"tr"),i.Qb(1,"td",23),i.Qb(2,"div",24),i.Qb(3,"div",25),i.Lb(4,"img",26),i.Pb(),i.Qb(5,"div",27),i.Qb(6,"div",28),i.Qb(7,"div",29),i.rc(8),i.ac(9,"titlecase"),i.Pb(),i.Qb(10,"div",30),i.rc(11),i.ac(12,"titlecase"),i.Pb(),i.Qb(13,"div",30),i.pc(14,ct,3,0,"td",3),i.pc(15,it,3,3,"ng-template",null,31,i.qc),i.Pb(),i.Pb(),i.Pb(),i.Pb(),i.Pb(),i.Qb(17,"td",32),i.Qb(18,"div",33),i.Lb(19,"img",34),i.Lb(20,"div",24),i.Qb(21,"div",27),i.Qb(22,"div",35),i.Qb(23,"div",29),i.rc(24),i.ac(25,"titlecase"),i.Pb(),i.Qb(26,"div",30),i.rc(27),i.ac(28,"titlecase"),i.Pb(),i.Qb(29,"div",36),i.Qb(30,"strong"),i.rc(31),i.ac(32,"currency"),i.Pb(),i.Pb(),i.Qb(33,"div",30),i.pc(34,at,3,0,"td",3),i.pc(35,nt,3,3,"ng-template",null,31,i.qc),i.Pb(),i.Pb(),i.Pb(),i.Pb(),i.Pb(),i.Qb(37,"td",37),i.Qb(38,"p",38),i.rc(39),i.ac(40,"currency"),i.Pb(),i.Pb(),i.Qb(41,"td"),i.Qb(42,"div",39),i.Qb(43,"button",40),i.Xb("click",function(){i.lc(t);const r=e.$implicit;return i.Zb(2).selectProduct(!1,r)}),i.Lb(44,"i",41),i.rc(45," Detail "),i.Pb(),i.Qb(46,"button",42),i.Xb("click",function(){i.lc(t);const r=e.$implicit;return i.Zb(2).selectProduct(!1,r)}),i.Lb(47,"i",43),i.rc(48," Edit "),i.Pb(),i.Qb(49,"button",44),i.Xb("click",function(){i.lc(t);const r=e.$implicit;return i.Zb(2).selectProduct(!1,r)}),i.Lb(50,"i",45),i.rc(51," Delete "),i.Pb(),i.Pb(),i.Pb(),i.Pb()}if(2&t){const t=e.$implicit,r=i.kc(16);i.zb(4),i.gc("src",t.img,i.mc)("alt",t.name),i.zb(4),i.tc(" ",i.bc(9,14,t.name)," "),i.zb(3),i.tc(" ",i.bc(12,16,t.category)," "),i.zb(3),i.gc("ngIf",0==t.stock)("ngIfElse",r),i.zb(5),i.gc("src",t.img,i.mc)("alt",t.name),i.zb(5),i.tc(" ",i.bc(25,18,t.name)," "),i.zb(3),i.tc(" ",i.bc(28,20,t.category)," "),i.zb(4),i.tc(" ",i.dc(32,22,t.price,"$","symbol","1.0-0")," "),i.zb(3),i.gc("ngIf",0==t.stock)("ngIfElse",r),i.zb(5),i.tc(" ",i.dc(40,27,t.price,"$","symbol","1.0-0")," ")}}function bt(t,e){if(1&t){const t=i.Rb();i.Qb(0,"li"),i.Qb(1,"a",47),i.Xb("click",function(){i.lc(t);const r=e.$implicit;return i.Zb(2).changePage(r.numberPage)}),i.rc(2),i.Pb(),i.Pb()}if(2&t){const t=e.$implicit,r=i.Zb(2);i.Bb(t.numberPage==r.pageActive?"page-item active":"page-item"),i.zb(2),i.tc(" ",t.numberPage," ")}}function lt(t,e){if(1&t){const t=i.Rb();i.Qb(0,"div"),i.Qb(1,"app-search",7),i.Xb("productSearch",function(e){return i.lc(t),i.Zb().refreshTheList(e)}),i.Pb(),i.Qb(2,"div",8),i.Qb(3,"table",9),i.Qb(4,"thead"),i.Qb(5,"tr"),i.Qb(6,"th",10),i.rc(7,"Product"),i.Pb(),i.Qb(8,"th",11),i.rc(9," Price "),i.Pb(),i.Qb(10,"th",10),i.rc(11,"Action"),i.Pb(),i.Pb(),i.Pb(),i.Qb(12,"tbody"),i.pc(13,dt,52,32,"tr",12),i.Pb(),i.Pb(),i.Qb(14,"nav",13),i.Qb(15,"ul",14),i.Qb(16,"li",15),i.Qb(17,"button",16),i.Xb("click",function(){i.lc(t);const e=i.Zb();return e.changePage(e.pageActive-1)}),i.Qb(18,"span",17),i.rc(19,"\xab"),i.Pb(),i.Pb(),i.Pb(),i.pc(20,bt,3,3,"li",18),i.Qb(21,"li",15),i.Qb(22,"button",19),i.Xb("click",function(){i.lc(t);const e=i.Zb();return e.changePage(e.pageActive+1)}),i.Qb(23,"span",17),i.rc(24,"\xbb"),i.Pb(),i.Pb(),i.Pb(),i.Pb(),i.Pb(),i.Pb(),i.Qb(25,"app-product-add-and-update",20),i.Xb("productNew",function(e){return i.lc(t),i.Zb().addToTheList(e)})("productUpdate",function(e){return i.lc(t),i.Zb().updateToTheList(e)}),i.Pb(),i.Qb(26,"app-modal-delete-product",21),i.Xb("productDelete",function(e){return i.lc(t),i.Zb().deleteTheList(e)}),i.Pb(),i.Lb(27,"app-product-detail",22),i.Pb()}if(2&t){const t=i.Zb();i.zb(13),i.gc("ngForOf",t.listProducts),i.zb(4),i.gc("disabled",t.pageActive<=0)("hidden",-1==t.pageActive),i.zb(3),i.gc("ngForOf",t.pagination),i.zb(2),i.gc("disabled",t.pageActive==t.pagination.length),i.zb(3),i.gc("productInput",t.productSelected)("isNewProduct",t.isNewProduct),i.zb(1),i.gc("productRemoved",!1)("productSelected",t.productSelected),i.zb(1),i.gc("productSelected",t.productSelected)}}function ut(t,e){1&t&&(i.Qb(0,"div",49),i.rc(1," No products were found! "),i.Pb())}function pt(t,e){if(1&t&&i.pc(0,ut,2,0,"div",48),2&t){const t=i.Zb();i.gc("ngIf",0==t.showLoading)}}let mt=(()=>{class t{constructor(t,e){this.productService=t,this.messageService=e,this.listProducts=[],this.pagination=[],this.pageActive=1,this.isNewProduct=!0,this.showLoading=!0}ngOnInit(){this.productSelected={category:"",description:"",name:"",price:0,stock:0},void 0!==this.searchCategory?(this.searchProduct(),this.showLoading=!1):this.productService.getAllProducts().subscribe(t=>{const e=Number(t.total)/6;for(let r=0;r<e;r++)this.pagination.push({numberPage:r+1,url:"aa"});this.listProducts=t.products,this.showLoading=!1},()=>{this.listProducts=[],this.showLoading=!1})}selectProduct(t,e){void 0!==e&&(this.productSelected=e,this.isNewProduct=t),this.isNewProduct=t}addToTheList(t){this.listProducts.push(t)}updateToTheList(t){const e=this.listProducts.findIndex(e=>e._id==t._id);let r=[...this.listProducts];r[e]=Object.assign(Object.assign({},r[e]),{name:t.name,description:t.description,price:t.price,img:t.img,category:t.category,stock:t.stock,_id:t._id}),this.listProducts=r}refreshTheList(t){0!==t.length&&(this.listProducts=t)}deleteTheList(t){this.listProducts=this.listProducts.filter(e=>e._id!==t._id)}changePage(t){t<=0||t>this.pagination.length?this.showToast("Ups!","The value is invalid "+t,"info"):(this.pageActive=t,this.productService.getAllProducts(6*(t-1)).subscribe(t=>{this.listProducts=t.products}))}searchProduct(){this.productService.getProductById("",this.searchCategory).subscribe(t=>{0!==t.length&&(this.listProducts=t)},()=>{this.showToast("Error!","Contact technical support","warning")})}showToast(t,e,r,o=2e3){x.a.fire(t,e,r),setInterval(()=>{x.a.close()},o)}}return t.\u0275fac=function(e){return new(e||t)(i.Kb(d),i.Kb(P.c))},t.\u0275cmp=i.Eb({type:t,selectors:[["app-list-products"]],inputs:{searchCategory:"searchCategory"},features:[i.yb([P.c])],decls:7,vars:3,consts:[["data-bs-target","#modalProduct","data-bs-toggle","modal",1,"mb-4","btn","btn-dark",3,"click"],[1,"pi","me-2","pi-plus"],["class","d-flex align-items-center p-3",4,"ngIf"],[4,"ngIf","ngIfElse"],["messageThereAreNoProducts",""],[1,"d-flex","align-items-center","p-3"],["role","status","aria-hidden","true",1,"spinner-border","ms-auto","text-warning"],[3,"productSearch"],[1,"table-responsive"],[1,"table","table-hover","align-middle"],["scope","col"],["scope","col",1,"d-none","d-sm-none","d-md-block"],[4,"ngFor","ngForOf"],["aria-label","Page navigation"],[1,"pagination"],[1,"page-item"],["aria-label","Previous",1,"page-link","backAndNext",3,"disabled","hidden","click"],["aria-hidden","true"],[3,"class",4,"ngFor","ngForOf"],["aria-label","Next",1,"page-link","backAndNext",3,"disabled","click"],[3,"productInput","isNewProduct","productNew","productUpdate"],[3,"productRemoved","productSelected","productDelete"],[3,"productSelected"],[1,"d-none","d-md-block"],[1,"row","justify-content-sm-center","justify-content-md-start"],[1,"col-sm-12","col-md-2","mb-md-2","mt-md-2"],[1,"img-fluid","img-list",3,"src","alt"],[1,"col-sm-12","col-md-9","mb-md-2","mt-md-2"],[1,"ms-3"],[1,"fw-bold","mb-1"],[1,"text-muted","mb-0"],["productStock",""],[1,"d-block","d-md-none"],[1,"col-sm-12","col-md-2","mb-md-2","mt-md-2","text-center"],[1,"img-list-responsive",3,"src","alt"],[1,"ms-3","mt-3"],[1,"text-dark","mb-0"],[1,"d-none","d-md-table-cell"],[1,"fw-bold"],[1,"d-grid","gap-2","d-md-block"],["data-bs-target","#modalDetailProduct","data-bs-toggle","modal",1,"btn","btn-dark","mx-md-1","mb-2","mb-sm-2","mx-sm-2",3,"click"],[1,"pi","me-2","pi-eye"],["data-bs-target","#modalProduct","data-bs-toggle","modal",1,"btn","btn-warning","mx-md-1","mb-2","mb-sm-2","mx-sm-2",3,"click"],[1,"pi","me-2","pi-pencil"],["data-bs-target","#modalDeleteProduct","data-bs-toggle","modal",1,"btn","btn-danger","mx-md-1","mb-2","mb-sm-2","mx-sm-2",3,"click"],[1,"pi","me-2","pi-trash"],[1,"badge","bg-danger"],[1,"page-link",3,"click"],["class","alert alert-danger","role","alert",4,"ngIf"],["role","alert",1,"alert","alert-danger"]],template:function(t,e){if(1&t&&(i.Qb(0,"button",0),i.Xb("click",function(){return e.selectProduct(!0)}),i.Lb(1,"i",1),i.rc(2," New Product\n"),i.Pb(),i.pc(3,st,4,0,"div",2),i.pc(4,lt,28,10,"div",3),i.pc(5,pt,1,1,"ng-template",null,4,i.qc)),2&t){const t=i.kc(6);i.zb(3),i.gc("ngIf",e.showLoading),i.zb(1),i.gc("ngIf",0!==e.listProducts.length)("ngIfElse",t)}},directives:[o.l,M,o.k,tt,et,ot],pipes:[o.q,o.c],styles:[".img-list[_ngcontent-%COMP%]{max-width:70px;cursor:pointer}.img-list-responsive[_ngcontent-%COMP%]{max-width:20vw;cursor:pointer}.page-item.active[_ngcontent-%COMP%]   .page-link[_ngcontent-%COMP%]{z-index:3;color:#fff;border-color:#fff;background-color:#ffca2c;cursor:pointer}.page-link[_ngcontent-%COMP%]{background-color:#fff;color:#212529;border-color:#fff;cursor:pointer}.backAndNext[_ngcontent-%COMP%]{background-color:#ffca2c;border-color:#fff;color:#fff}.backAndNext[_ngcontent-%COMP%]:hover{background-color:#ffc008;border-color:#fff;color:#fff}"]}),t})(),gt=(()=>{class t{constructor(t){this.route=t,this.productSelected={category:"",name:"",description:"",price:0,stock:0,img:""}}ngOnInit(){const t=this.route.snapshot.queryParamMap.getAll("categoryid");t.length>0&&t[0].length>0&&(this.searchCategory=t[0]),this.isList=!0,this.isNew=!0}showProduct(t){this.productSelected=t}}return t.\u0275fac=function(e){return new(e||t)(i.Kb(u.a))},t.\u0275cmp=i.Eb({type:t,selectors:[["app-product"]],decls:9,vars:1,consts:[[1,"container-fluid"],[1,"row","flex-nowrap"],[1,"col-auto","col-md-3","col-xl-2","px-sm-2","px-0","bg-dark"],[1,"col","py-3"],[1,"row","justify-content-lg-center"],[1,"col-12","col-sm-12","col-md-12","col-lg-12","col-xl-11"],[1,"col-12","col-sm-12","col-md-12","col-lg-12","col-xl-12"],[3,"searchCategory"]],template:function(t,e){1&t&&(i.Qb(0,"div",0),i.Qb(1,"div",1),i.Lb(2,"app-menu-store",2),i.Qb(3,"div",3),i.Qb(4,"div",4),i.Qb(5,"div",5),i.Lb(6,"app-product-functions-list"),i.Pb(),i.Qb(7,"div",6),i.Lb(8,"app-list-products",7),i.Pb(),i.Pb(),i.Pb(),i.Pb(),i.Pb()),2&t&&(i.zb(8),i.gc("searchCategory",e.searchCategory))},directives:[g,R,mt],encapsulation:2}),t})();function ht(t,e){if(1&t&&(i.Qb(0,"li",8),i.Qb(1,"a",9),i.Lb(2,"i"),i.rc(3),i.Pb(),i.Pb()),2&t){const t=e.$implicit;i.zb(1),i.gc("routerLinkActive",t.classActive)("routerLink",t.routerLink),i.zb(1),i.Bb(t.class),i.zb(1),i.tc(" ",t.label,"")}}let Pt=(()=>{class t{constructor(){}ngOnInit(){this.menuList=[{label:"History",class:"pi pi-book  me-1 ",routerLink:"/store/sales/history",classActive:"active"},{label:"New",class:"pi pi-plus  me-1 ",routerLink:"/store/sales/new",classActive:"active"}]}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275cmp=i.Eb({type:t,selectors:[["app-menu-sale"]],decls:10,vars:1,consts:[[1,"navbar","navbar-expand-lg","navbar-light","bg-light"],[1,"container-fluid"],["routerLink","/store/sales/history",1,"navbar-brand"],["type","button","data-bs-toggle","collapse","data-bs-target","#navbarNav","aria-controls","navbarNav","aria-expanded","false","aria-label","Toggle navigation",1,"navbar-toggler"],[1,"navbar-toggler-icon"],["id","navbarNav",1,"collapse","navbar-collapse"],[1,"navbar-nav"],["class","nav-item",4,"ngFor","ngForOf"],[1,"nav-item"],["aria-current","page",1,"nav-link",3,"routerLinkActive","routerLink"]],template:function(t,e){1&t&&(i.Qb(0,"nav",0),i.Qb(1,"div",1),i.Qb(2,"a",2),i.Qb(3,"strong"),i.rc(4,"Sales"),i.Pb(),i.Pb(),i.Qb(5,"button",3),i.Lb(6,"span",4),i.Pb(),i.Qb(7,"div",5),i.Qb(8,"ul",6),i.pc(9,ht,4,5,"li",7),i.Pb(),i.Pb(),i.Pb(),i.Pb()),2&t&&(i.zb(9),i.gc("ngForOf",e.menuList))},directives:[u.e,o.k,u.d],encapsulation:2}),t})(),ft=(()=>{class t{constructor(){}ngOnInit(){}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275cmp=i.Eb({type:t,selectors:[["app-home-sale"]],decls:9,vars:0,consts:[[1,"container-fluid"],[1,"row","flex-nowrap"],[1,"col-auto","col-md-3","col-xl-2","px-sm-2","px-0","bg-dark"],[1,"col","py-3"],[1,"row"],[1,"col-sm-12","mb-3"],[1,"col-sm-12"]],template:function(t,e){1&t&&(i.Qb(0,"div",0),i.Qb(1,"div",1),i.Lb(2,"app-menu-store",2),i.Qb(3,"div",3),i.Qb(4,"div",4),i.Qb(5,"div",5),i.Lb(6,"app-menu-sale"),i.Pb(),i.Qb(7,"div",6),i.Lb(8,"router-outlet"),i.Pb(),i.Pb(),i.Pb(),i.Pb(),i.Pb())},directives:[g,Pt,u.g],encapsulation:2}),t})();function vt(t,e){if(1&t&&(i.Qb(0,"tr"),i.Qb(1,"th",14),i.rc(2),i.Pb(),i.Qb(3,"td"),i.rc(4),i.Pb(),i.Qb(5,"td"),i.rc(6),i.Pb(),i.Qb(7,"td"),i.rc(8),i.ac(9,"currency"),i.Pb(),i.Pb()),2&t){const t=e.$implicit;i.zb(2),i.sc(t.amount),i.zb(2),i.sc(t.productDB.name),i.zb(2),i.sc(t.productDB.description),i.zb(2),i.sc(i.dc(9,4,t.productDB.price,"$","symbol","1.0-0"))}}let Qt=(()=>{class t{constructor(){this.products=[]}ngOnInit(){}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275cmp=i.Eb({type:t,selectors:[["app-modalProductsSale"]],inputs:{products:"products"},decls:26,vars:1,consts:[["id","modalDetailProducts","data-bs-backdrop","static","data-bs-keyboard","false","tabindex","-1","aria-labelledby","modalDetailProductsLabel","aria-hidden","true",1,"modal","fade"],[1,"modal-dialog"],[1,"modal-content"],[1,"modal-header"],["id","modalDetailProductsLabel",1,"modal-title"],["type","button","data-bs-dismiss","modal","aria-label","Close",1,"btn-close"],[1,"modal-body"],[1,"table-responsive"],[1,"table","table-hover","table-borderless"],["scope","col"],[4,"ngFor","ngForOf"],[1,"modal-footer"],["type","button","data-bs-dismiss","modal",1,"btn","btn-danger"],[1,"pi","pi-times"],["scope","row"]],template:function(t,e){1&t&&(i.Qb(0,"div",0),i.Qb(1,"div",1),i.Qb(2,"div",2),i.Qb(3,"div",3),i.Qb(4,"h5",4),i.rc(5,"List products"),i.Pb(),i.Lb(6,"button",5),i.Pb(),i.Qb(7,"div",6),i.Qb(8,"div",7),i.Qb(9,"table",8),i.Qb(10,"thead"),i.Qb(11,"tr"),i.Qb(12,"th",9),i.rc(13,"Amount"),i.Pb(),i.Qb(14,"th",9),i.rc(15,"Name"),i.Pb(),i.Qb(16,"th",9),i.rc(17,"Description"),i.Pb(),i.Qb(18,"th",9),i.rc(19,"Price"),i.Pb(),i.Pb(),i.Pb(),i.Qb(20,"tbody"),i.pc(21,vt,10,9,"tr",10),i.Pb(),i.Pb(),i.Pb(),i.Pb(),i.Qb(22,"div",11),i.Qb(23,"button",12),i.Lb(24,"i",13),i.rc(25," Close "),i.Pb(),i.Pb(),i.Pb(),i.Pb(),i.Pb()),2&t&&(i.zb(21),i.gc("ngForOf",e.products))},directives:[o.k],pipes:[o.c],styles:[""]}),t})();function yt(t,e){if(1&t){const t=i.Rb();i.Qb(0,"tr"),i.Qb(1,"th",10),i.rc(2),i.Pb(),i.Qb(3,"td"),i.rc(4),i.ac(5,"currency"),i.Qb(6,"span"),i.rc(7),i.Pb(),i.Pb(),i.Qb(8,"td"),i.Lb(9,"i",11),i.rc(10),i.ac(11,"date"),i.Pb(),i.Qb(12,"td"),i.Qb(13,"button",12),i.Xb("click",function(){i.lc(t);const r=e.$implicit;return i.Zb(2).selectedProducts(r)}),i.Lb(14,"i",13),i.rc(15," Detail "),i.Pb(),i.Pb(),i.Pb()}if(2&t){const t=e.$implicit,r=e.index;i.zb(2),i.sc(r+1),i.zb(2),i.tc(" ",i.dc(5,6,t.total,"$","symbol","1.0-0")," "),i.zb(2),i.Bb(t.total<=3e3?"badge bg-warning mx-2":"badge bg-dark mx-2"),i.zb(1),i.sc(t.total<=3e3?"Low":"High"),i.zb(3),i.tc(" ",i.cc(11,11,t.date,"dd-MM-yyyy")," ")}}function wt(t,e){if(1&t&&(i.Qb(0,"div"),i.Qb(1,"table",7),i.Qb(2,"thead"),i.Qb(3,"tr"),i.Qb(4,"th",8),i.rc(5,"#"),i.Pb(),i.Qb(6,"th",8),i.rc(7,"Total"),i.Pb(),i.Qb(8,"th",8),i.rc(9,"Date"),i.Pb(),i.Lb(10,"th",8),i.Pb(),i.Pb(),i.Qb(11,"tbody"),i.pc(12,yt,16,14,"tr",9),i.Pb(),i.Pb(),i.Pb()),2&t){const t=i.Zb();i.zb(12),i.gc("ngForOf",t.listSales)}}function kt(t,e){1&t&&(i.Qb(0,"div",14),i.rc(1," No sales were found! "),i.Pb())}let Lt=(()=>{class t{constructor(t){this.salesService=t,this.listSales=[],this.date=new Date,this.productSelected=[],this.showLoading=!0,this.getDate=t=>{var e=t.getDate(),r=t.getMonth()+1;return e<10&&(e="0"+e),r<10&&(r="0"+r),t.getFullYear()+"-"+r+"-"+e}}ngOnInit(){this.salesService.getListSales().subscribe(t=>{this.listSales=t.arraySales,this.showLoading=!1})}selectedProducts(t){this.productSelected=t.products}}return t.\u0275fac=function(e){return new(e||t)(i.Kb(b))},t.\u0275cmp=i.Eb({type:t,selectors:[["app-list-sales"]],decls:10,vars:4,consts:[[1,"text-center","mt-5","mb-5",3,"hidden"],[1,"mb-3"],["role","status",1,"spinner-border","text-warning"],[1,"visually-hidden"],[4,"ngIf","ngIfElse"],["messageThereAreNoSales",""],[3,"products"],[1,"table"],["scope","col"],[4,"ngFor","ngForOf"],["scope","row"],[1,"pi","pi-calendar"],["data-bs-toggle","modal","data-bs-target","#modalDetailProducts","type","button",1,"btn","btn-warning",3,"click"],[1,"pi","pi-eye","me-2"],["role","alert",1,"alert","alert-danger"]],template:function(t,e){if(1&t&&(i.Qb(0,"div",0),i.Qb(1,"h3",1),i.rc(2,"Loading..."),i.Pb(),i.Qb(3,"div",2),i.Qb(4,"span",3),i.rc(5,"Loading..."),i.Pb(),i.Pb(),i.Pb(),i.pc(6,wt,13,1,"div",4),i.pc(7,kt,2,0,"ng-template",null,5,i.qc),i.Lb(9,"app-modalProductsSale",6)),2&t){const t=i.kc(8);i.gc("hidden",!e.showLoading),i.zb(6),i.gc("ngIf",e.listSales.length>0)("ngIfElse",t),i.zb(3),i.gc("products",e.productSelected)}},directives:[o.l,Qt,o.k],pipes:[o.c,o.e],encapsulation:2}),t})(),St=(()=>{class t{constructor(){}ngOnInit(){}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275cmp=i.Eb({type:t,selectors:[["app-history"]],decls:10,vars:0,consts:[["role","alert",1,"alert","alert-warning","mb-4"]],template:function(t,e){1&t&&(i.Qb(0,"div",0),i.Qb(1,"h4"),i.rc(2,"List Sales"),i.Pb(),i.Qb(3,"p"),i.rc(4," Full list of all sales in DB "),i.Lb(5,"br"),i.rc(6," The data obtained are those of the present month "),i.Lb(7,"br"),i.rc(8," If you want to get another month, use the filter below "),i.Pb(),i.Pb(),i.Lb(9,"app-list-sales"))},directives:[Lt],encapsulation:2}),t})();function xt(t,e){if(1&t&&(i.Qb(0,"li",8),i.Qb(1,"strong"),i.rc(2),i.Pb(),i.rc(3),i.ac(4,"titlecase"),i.Qb(5,"strong"),i.rc(6),i.ac(7,"currency"),i.Pb(),i.Pb()),2&t){const t=e.$implicit;i.zb(2),i.tc("",t.amount," "),i.zb(1),i.tc(" ",i.bc(4,3,t.product.name)," "),i.zb(3),i.tc(" ",i.dc(7,5,t.product.price,"$","symbol","1.0-0")," U")}}function It(t,e){1&t&&(i.Qb(0,"div",9),i.Qb(1,"h5"),i.rc(2,"Do not make added products"),i.Pb(),i.Qb(3,"small"),i.rc(4,"You must add some product to continue."),i.Pb(),i.Pb())}function Ct(t,e){if(1&t){const t=i.Rb();i.Qb(0,"div",1),i.Qb(1,"h3",2),i.rc(2,"Total"),i.Pb(),i.Qb(3,"h5"),i.rc(4),i.ac(5,"currency"),i.Pb(),i.Qb(6,"h5"),i.rc(7,"Pay with"),i.Pb(),i.Qb(8,"input",10),i.Xb("keyup",function(e){return i.lc(t),i.Zb().onKey(e)}),i.Pb(),i.Qb(9,"h5",11),i.rc(10),i.ac(11,"currency"),i.Pb(),i.Qb(12,"button",12),i.Xb("click",function(){return i.lc(t),i.Zb().finishPurchase()}),i.rc(13,"Finish purchase"),i.Pb(),i.Qb(14,"button",13),i.rc(15,"Close"),i.Pb(),i.Pb()}if(2&t){const t=i.Zb();i.zb(4),i.sc(i.dc(5,4,t.total,"$","symbol","1.0-0")),i.zb(5),i.gc("hidden",t.change<t.total),i.zb(1),i.tc(" Change: ",i.dc(11,9,t.change-t.total,"USD","symbol","1.0-0")," "),i.zb(2),i.gc("disabled",t.change<t.total)}}let zt=(()=>{class t{constructor(t,e){this.saleService=t,this.router=e,this.HaveProducts=!1,this.saleProductSelected=[],this.change=0,this.total=0}ngOnInit(){this.HaveProducts=0!=this.saleProductSelected.length}onKey(t){const{value:e}=t.target;this.change=e}totalPrice(){this.HaveProducts=0!=this.saleProductSelected.length;const t=this.saleProductSelected.map(t=>t.product.price*t.amount);this.total=t.reduce((t,e)=>t+e)}finishPurchase(){this.totalPrice();const t=x.a.mixin({customClass:{confirmButton:"btn btn-warning mx-2",cancelButton:"btn btn-danger mx-2"},buttonsStyling:!1,timer:1e4});t.fire({title:"Are you sure?",text:"You won't be able to revert this!",icon:"warning",showCancelButton:!0,confirmButtonText:"Yes, Finish purchase",cancelButtonText:"No, cancel!",reverseButtons:!0}).then(e=>{e.isConfirmed?this.saleService.saveSale(this.total,this.saleProductSelected).subscribe(e=>{t.fire("Success!","The operation is correctly registered.","success"),this.router.navigateByUrl("store/sales/history")}):e.dismiss===x.a.DismissReason.cancel&&t.fire("Cancelled","Your operation could not end","error")})}showToast(t,e,r,o=2e3){x.a.fire(t,e,r),setInterval(()=>{x.a.close()},o)}}return t.\u0275fac=function(e){return new(e||t)(i.Kb(b),i.Kb(u.b))},t.\u0275cmp=i.Eb({type:t,selectors:[["app-cart"]],inputs:{saleProductSelected:"saleProductSelected"},decls:12,vars:4,consts:[[1,"row"],[1,"col-sm-12"],[1,"mt-3"],[1,"mt-2","list-unstyled"],["class","d-inline-block text-truncate","style","max-width: 300px;",4,"ngFor","ngForOf"],["messageNotFoundProduct",""],[1,"btn","btn-dark","mb-2",3,"disabled","click"],["class","col-sm-12",4,"ngIf","ngIfElse"],[1,"d-inline-block","text-truncate",2,"max-width","300px"],["role","alert",1,"alert","mb-4","alert-warning"],["type","number","min","1","id","change","oninput","this.value = Math.abs(this.value)",1,"form-control","mb-4",3,"keyup"],[1,"mb-3",3,"hidden"],["data-bs-dismiss","modal","data-bs-dismiss","offcanvas",1,"btn","btn-dark","mt-2","mx-2",3,"disabled","click"],["data-bs-dismiss","offcanvas",1,"btn","btn-danger","mt-2","mx-2"]],template:function(t,e){if(1&t&&(i.Qb(0,"div",0),i.Qb(1,"div",1),i.Qb(2,"h3",2),i.rc(3,"Resumen"),i.Pb(),i.Qb(4,"ul",3),i.pc(5,xt,8,10,"li",4),i.Pb(),i.Pb(),i.Pb(),i.Qb(6,"div",0),i.pc(7,It,5,0,"ng-template",null,5,i.qc),i.Qb(9,"button",6),i.Xb("click",function(){return e.totalPrice()}),i.rc(10," Calculate Total "),i.Pb(),i.pc(11,Ct,16,14,"div",7),i.Pb()),2&t){const t=i.kc(8);i.zb(5),i.gc("ngForOf",e.saleProductSelected),i.zb(4),i.gc("disabled",0==e.saleProductSelected.length),i.zb(2),i.gc("ngIf",e.HaveProducts)("ngIfElse",t)}},directives:[o.k,o.l],pipes:[o.q,o.c],encapsulation:2}),t})();function Ft(t,e){if(1&t&&(i.Qb(0,"span",15),i.rc(1),i.Pb()),2&t){const t=i.Zb();i.zb(1),i.sc(t.product.stock)}}function Nt(t,e){if(1&t&&(i.Qb(0,"span"),i.rc(1),i.Pb()),2&t){const t=i.Zb(2);i.Bb(t.product.stock>0&&t.product.stock<4?"badge bg-warning":"badge bg-dark"),i.zb(1),i.tc(" ",t.product.stock>0&&t.product.stock<4?"Short supply.":"Available","")}}function Ut(t,e){if(1&t&&i.pc(0,Nt,2,3,"span",16),2&t){const t=i.Zb();i.gc("ngIf",t.product.stock>0&&t.product.stock<4?"badge bg-warning":"badge bg-dark")}}let Tt=(()=>{class t{constructor(t,e){this.fb=t,this.messageService=e,this.sendProductSelected=new i.n}ngOnInit(){this.cardForm=this.fb.group({quantity:1})}addCart(t){this.messageService.add({severity:"success",summary:t.name+" Amount: "+this.cardForm.controls.quantity.value,detail:" Price: "+t.price}),this.sendProductSelected.emit({product:t,amount:this.cardForm.controls.quantity.value})}}return t.\u0275fac=function(e){return new(e||t)(i.Kb(s.b),i.Kb(P.c))},t.\u0275cmp=i.Eb({type:t,selectors:[["app-card-product-store"]],inputs:{product:"product"},outputs:{sendProductSelected:"sendProductSelected"},features:[i.yb([P.c])],decls:28,vars:16,consts:[[1,"card","h-100"],["alt","...",1,"card-img-top","p-5","p-sm-3","p-md-3","p-lg-2",3,"src"],[1,"card-body"],[1,"card-title"],["class","badge bg-warning text-dark",4,"ngIf","ngIfElse"],["producStock",""],[1,"card-text"],[1,"ms-3","me-3",3,"formGroup"],["for","quantity",1,"form-label"],["type","range","min","1","step","1","formControlName","quantity",1,"form-range",3,"max"],["role","group","aria-label","Actions",1,"btn-group","p-2"],["type","button",1,"btn","btn-dark",3,"click"],[1,"pi","pi-plus-circle","me-2"],[1,"card-footer"],[1,"text-muted","ps-3","mb-2","mt-2"],[1,"badge","bg-warning","text-dark"],[3,"class",4,"ngIf"]],template:function(t,e){if(1&t&&(i.Qb(0,"div",0),i.Lb(1,"img",1),i.Qb(2,"div",2),i.Qb(3,"h5",3),i.rc(4),i.ac(5,"titlecase"),i.pc(6,Ft,2,1,"span",4),i.pc(7,Ut,1,1,"ng-template",null,5,i.qc),i.Pb(),i.Qb(9,"p",6),i.rc(10),i.Pb(),i.Pb(),i.Qb(11,"form",7),i.Qb(12,"label",8),i.rc(13,"Quantity: "),i.Qb(14,"strong"),i.rc(15),i.Pb(),i.Pb(),i.Lb(16,"input",9),i.Qb(17,"div",10),i.Qb(18,"button",11),i.Xb("click",function(){return e.addCart(e.product)}),i.Lb(19,"i",12),i.rc(20," Add "),i.Pb(),i.Pb(),i.Pb(),i.Qb(21,"div",13),i.Qb(22,"small",14),i.Qb(23,"strong"),i.rc(24,"Price: "),i.Pb(),i.rc(25),i.ac(26,"currency"),i.Pb(),i.Pb(),i.Pb(),i.Lb(27,"p-toast")),2&t){const t=i.kc(8);i.zb(1),i.gc("src",e.product.img,i.mc),i.zb(3),i.tc(" ",i.bc(5,9,e.product.name)," "),i.zb(2),i.gc("ngIf",0==e.product.stock)("ngIfElse",t),i.zb(4),i.tc("",e.product.description,"."),i.zb(1),i.gc("formGroup",e.cardForm),i.zb(4),i.sc(e.cardForm.controls.quantity.value),i.zb(1),i.gc("max",e.product.stock),i.zb(9),i.tc(" ",i.dc(26,11,e.product.price,"USD","symbol","1.0-0"),"")}},directives:[o.l,s.n,s.f,s.d,s.i,s.a,s.e,s.c,q.a],pipes:[o.q,o.c],styles:[".btn-dark[_ngcontent-%COMP%]:hover {\n        color: #fff;\n        background-color: #FFAE0D;\n        border-color: #FFAE0D;\n    }"]}),t})();function Ot(t,e){if(1&t){const t=i.Rb();i.Qb(0,"div",19),i.Qb(1,"app-card-product-store",20),i.Xb("sendProductSelected",function(e){return i.lc(t),i.Zb().addShoppingCart(e)}),i.Pb(),i.Pb()}if(2&t){const t=e.$implicit;i.zb(1),i.gc("product",t)}}let Et=(()=>{class t{constructor(t){this.productService=t,this.listProduct=[],this.shoppingCart=[],this.page=0}ngOnInit(){this.productService.getAllProducts().subscribe(t=>{this.listProduct=t.products})}addShoppingCart(t){var e=0;if(this.shoppingCart.every((r,o)=>{var s,c;return e=o,(null===(s=r.product._id)||void 0===s?void 0:s.toString())!==(null===(c=t.product._id)||void 0===c?void 0:c.toString())}))this.shoppingCart.push({product:t.product,amount:t.amount});else{const{stock:r}=t.product;r>=this.shoppingCart[e].amount&&(this.shoppingCart[e].amount+=t.amount)}}addMoreProducts(){this.productService.getAllProducts(this.page+1).subscribe(t=>{0==t.products.length&&this.showToast("No more products","","info"),t.products.forEach(t=>{this.page+=1,this.listProduct.push(t)})})}showToast(t,e,r,o=2e3){x.a.fire(t,e,r),setInterval(()=>{x.a.close()},o)}}return t.\u0275fac=function(e){return new(e||t)(i.Kb(d))},t.\u0275cmp=i.Eb({type:t,selectors:[["app-new"]],decls:23,vars:2,consts:[[1,"m-3"],[1,"mb-4","display-6"],[1,"row","justify-content-center"],[1,"col-sm-12","col-md-10","col-lg-10","col-xl-10"],[1,"row","row-cols-1","row-cols-sm-2","row-cols-md-2","row-cols-lg-3","row-cols-xl-4","row-cols-xxl-6","g-4"],["class","col",4,"ngFor","ngForOf"],[1,"text-center","mt-4"],[1,"btn","btn-warning",3,"click"],[1,"col-sm-12","col-md-2","col-lg-2","col-xl-2"],[1,"d-grid","gap-2"],["type","button","data-bs-toggle","offcanvas","data-bs-target","#viewCart","aria-controls","viewCart",1,"btn","btn-lg","btn-dark","mb-3","hover-warning","d-none","d-xl-block"],[1,"pi","pi-shopping-cart"],["type","button","data-bs-toggle","offcanvas","data-bs-target","#viewCart","aria-controls","viewCart",1,"btn","btn-lg","btn-dark","mb-3","mt-3","hover-warning","d-block","d-xl-none"],["tabindex","-1","id","viewCart","aria-labelledby","offcanvasRightLabel",1,"offcanvas","offcanvas-end"],[1,"offcanvas-header"],["type","button","data-bs-dismiss","offcanvas","aria-label","Close",1,"btn-close","text-reset"],["buttonClose",""],[1,"offcanvas-body"],[3,"saleProductSelected"],[1,"col"],[3,"product","sendProductSelected"]],template:function(t,e){1&t&&(i.Qb(0,"div",0),i.Qb(1,"h2",1),i.rc(2,"New Sale"),i.Pb(),i.Qb(3,"div",2),i.Qb(4,"div",3),i.Qb(5,"div",4),i.pc(6,Ot,2,1,"div",5),i.Pb(),i.Qb(7,"div",6),i.Qb(8,"button",7),i.Xb("click",function(){return e.addMoreProducts()}),i.rc(9,"See more products"),i.Pb(),i.Pb(),i.Pb(),i.Qb(10,"div",8),i.Qb(11,"div",9),i.Qb(12,"button",10),i.Lb(13,"i",11),i.rc(14," View Cart "),i.Pb(),i.Qb(15,"button",12),i.Lb(16,"i",11),i.Pb(),i.Pb(),i.Qb(17,"div",13),i.Qb(18,"div",14),i.Lb(19,"button",15,16),i.Pb(),i.Qb(21,"div",17),i.Lb(22,"app-cart",18),i.Pb(),i.Pb(),i.Pb(),i.Pb(),i.Pb()),2&t&&(i.zb(6),i.gc("ngForOf",e.listProduct),i.zb(16),i.gc("saleProductSelected",e.shoppingCart))},directives:[o.k,zt,Tt],styles:[".btn-dark[_ngcontent-%COMP%]:hover, .btn-dark[_ngcontent-%COMP%]:active, .btn-dark[_ngcontent-%COMP%]:visited {\n\t\t\t\tbackground-color: #ffc008;\n\t\t\t\tborder: #ffc008;\n\t\t\t\tcolor: #212529;\n\t\t\t\t-webkit-transition: background-color 0.5s ease-out;\n\t\t\t\t-moz-transition: background-color 0.5s ease-out;\n\t\t\t\t-o-transition: background-color 0.5s ease-out;\n\t\t\t\ttransition: background-color 0.5s ease-out;\n\t\t\t}"]}),t})(),At=(()=>{class t{constructor(){}ngOnInit(){}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275cmp=i.Eb({type:t,selectors:[["app-home-users"]],decls:7,vars:0,consts:[[1,"container-fluid"],[1,"row","flex-nowrap"],[1,"col-auto","col-md-3","col-xl-2","px-sm-2","px-0","bg-dark"],[1,"col","py-3"],[1,"row"],[1,"col-sm-12"]],template:function(t,e){1&t&&(i.Qb(0,"div",0),i.Qb(1,"div",1),i.Lb(2,"app-menu-store",2),i.Qb(3,"div",3),i.Qb(4,"div",4),i.Qb(5,"div",5),i.Lb(6,"router-outlet"),i.Pb(),i.Pb(),i.Pb(),i.Pb(),i.Pb())},directives:[g,u.g],encapsulation:2}),t})();function Dt(t,e){if(1&t&&(i.Qb(0,"div",4),i.Qb(1,"li"),i.rc(2),i.Pb(),i.Pb()),2&t){const t=e.$implicit;i.zb(2),i.sc(t)}}let Bt=(()=>{class t{constructor(){}ngOnInit(){this.listFuntion=["Create User","See detail","Edit user","Remove user","Search for the name"]}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275cmp=i.Eb({type:t,selectors:[["app-user-functions-list"]],decls:8,vars:1,consts:[["role","alert",1,"alert","alert-warning","mb-4"],[1,"list-unstyled"],[1,"row"],["class","col-sm-12 col-md-6 col-lg-4 col-xl-3",4,"ngFor","ngForOf"],[1,"col-sm-12","col-md-6","col-lg-4","col-xl-3"]],template:function(t,e){1&t&&(i.Qb(0,"div",0),i.Qb(1,"h4"),i.rc(2,"List Users"),i.Pb(),i.Qb(3,"p"),i.rc(4,"Full list of all users in DB"),i.Pb(),i.Qb(5,"ul",1),i.Qb(6,"div",2),i.pc(7,Dt,3,1,"div",3),i.Pb(),i.Pb(),i.Pb()),2&t&&(i.zb(7),i.gc("ngForOf",e.listFuntion))},directives:[o.k],styles:[""]}),t})(),_t=(()=>{class t{constructor(t){this.http=t,this._urlBase=n.a.URLBASE}getAllUser(){const t=`${this._urlBase}/users`,e=(new a.c).set("x-token",localStorage.getItem("token")||"");return this.http.get(t,{headers:e})}saveUser(t){const e=`${this._urlBase}/users`,r=(new a.c).set("x-token",localStorage.getItem("token")||"");return this.http.post(e,t,{headers:r})}updateUser(t){const e=`${this._urlBase}/users/${t.uid}`,r=(new a.c).set("x-token",localStorage.getItem("token")||"");return this.http.put(e,t,{headers:r})}deleteUser(t){const e=`${this._urlBase}/users/${t.uid}`,r=(new a.c).set("x-token",localStorage.getItem("token")||"");return this.http.delete(e,{headers:r})}}return t.\u0275fac=function(e){return new(e||t)(i.Ub(a.a))},t.\u0275prov=i.Gb({token:t,factory:t.\u0275fac,providedIn:"root"}),t})();function $t(t,e){1&t&&(i.Qb(0,"span",25),i.rc(1," The email must be required "),i.Pb())}function Rt(t,e){1&t&&(i.Qb(0,"span",25),i.rc(1," The name must be required "),i.Pb())}function qt(t,e){1&t&&(i.Qb(0,"span",25),i.rc(1," The password must be required "),i.Pb())}function Xt(t,e){if(1&t&&(i.Qb(0,"option",26),i.rc(1),i.Pb()),2&t){const t=e.$implicit;i.gc("value",t._id),i.zb(1),i.sc(t.name)}}function Zt(t,e){1&t&&(i.Qb(0,"span",25),i.rc(1," The rol must be required "),i.Pb())}let Mt=(()=>{class t{constructor(t,e){this.fb=t,this.userService=e,this.userNew=new i.n,this.userUpdated=new i.n,this.productWasSaved=!1,this.showLoading=!1,this.listRole=[]}ngOnInit(){this.myFormUser=this.fb.group({uid:[""],email:["",s.m.email],password:["",s.m.required],name:["",s.m.required],rol:["",s.m.required]}),this.listRole=[{name:"ADMIN",_id:"ADMIN_ROLE"},{name:"EMPLOYEE",_id:"EMPLOYEE_ROLE"}]}ngOnChanges(t){var e,r,o,s;void 0!==this.myFormUser&&(this.myFormUser.controls.uid.setValue(null===(e=this.userInput)||void 0===e?void 0:e.uid),this.myFormUser.controls.email.setValue(null===(r=this.userInput)||void 0===r?void 0:r.email),this.myFormUser.controls.name.setValue(null===(o=this.userInput)||void 0===o?void 0:o.name),this.myFormUser.controls.rol.setValue(null===(s=this.userInput)||void 0===s?void 0:s.rol)),1==this.isNewUser?this.Restoreform():(this.myFormUser.controls.email.disable(),this.myFormUser.controls.password.disable())}fieldIsValid(t){return this.myFormUser.controls[t].errors&&this.myFormUser.controls[t].touched}Restoreform(){this.productWasSaved=!1}saveUser(){this.showLoading=!0,this.userService.saveUser(this.myFormUser.value).subscribe(t=>{this.Restoreform(),this.showLoading=!1,this.showToast("Success",t.msg,"success"),this.productWasSaved=!0,this.Restoreform(),this.userNew.emit(t.user)},t=>{this.Restoreform(),this.showLoading=!1,this.showToast("Error",t.error.msg,"error")})}updateUser(){this.showLoading=!0,this.userService.updateUser(this.myFormUser.value).subscribe(t=>{this.showLoading=!1,this.showToast("Success",t.msg,"success"),this.productWasSaved=!0,this.Restoreform(),this.userUpdated.emit(t.user)},t=>{this.Restoreform(),this.showLoading=!1,console.log(t),400!=t.status&&404!=t.status||this.showToast("Error","Check the data entered: In case the error persists, contact the technical support.","error"),500==t.status?this.showToast("Error","HTTP server internal error","error"):this.showToast("Error:"+t.statusText,t.message,"error",3e3)})}showToast(t,e,r,o=2e3){x.a.fire(t,e,r),setInterval(()=>{x.a.close()},o)}}return t.\u0275fac=function(e){return new(e||t)(i.Kb(s.b),i.Kb(_t))},t.\u0275cmp=i.Eb({type:t,selectors:[["app-user-add-and-update"]],inputs:{userInput:"userInput",isNewUser:"isNewUser"},outputs:{userNew:"userNew",userUpdated:"userUpdated"},features:[i.yb([P.c]),i.xb],decls:42,vars:14,consts:[["id","modalUser","data-bs-backdrop","static","data-bs-keyboard","false","tabindex","-1","aria-labelledby","staticBackdropLabel","aria-hidden","true",1,"modal","fade"],[1,"modal-dialog"],[1,"modal-content"],[1,"modal-header","mb-3"],["id","staticBackdropLabel",1,"modal-title"],[3,"formGroup","submit"],[1,"modal-body"],[1,"input-group","mb-3",3,"hidden"],[1,"input-group-text"],["type","email","placeholder","Email","aria-label","Email","formControlName","email","aria-describedby","basic-addon1","required","",1,"form-control",3,"hidden"],["class","input-group alert alert-danger mb-3",4,"ngIf"],[1,"input-group","mb-3"],["type","text","placeholder","Name","aria-label","name","formControlName","name","autocomplete","false","required","",1,"form-control"],["type","password","formControlName","password","autocomplete","false","required","",1,"form-control",3,"hidden"],["formControlName","rol","aria-label","Select Rol","required","",1,"form-select"],[3,"value",4,"ngFor","ngForOf"],[1,"modal-footer"],["type","button","data-bs-dismiss","modal",1,"btn","btn-danger",3,"click"],[1,"pi","me-2","pi-times"],["type","submit","data-bs-dismiss","modal",1,"btn","btn-dark","float-end",3,"disabled","hidden"],[1,"pi","me-2","pi-save"],[1,"text-center","mt-5","mb-5",3,"hidden"],[1,"mb-3"],["role","status",1,"spinner-border","text-warning"],[1,"visually-hidden"],[1,"input-group","alert","alert-danger","mb-3"],[3,"value"]],template:function(t,e){1&t&&(i.Qb(0,"div",0),i.Qb(1,"div",1),i.Qb(2,"div",2),i.Qb(3,"div",3),i.Qb(4,"h5",4),i.rc(5),i.Pb(),i.Pb(),i.Qb(6,"form",5),i.Xb("submit",function(){return 1==e.isNewUser?e.saveUser():e.updateUser()}),i.Qb(7,"div",6),i.Qb(8,"div",7),i.Qb(9,"span",8),i.rc(10,"* Email"),i.Pb(),i.Lb(11,"input",9),i.Pb(),i.pc(12,$t,2,0,"span",10),i.Qb(13,"div",11),i.Qb(14,"span",8),i.rc(15,"* Name"),i.Pb(),i.Lb(16,"input",12),i.Pb(),i.pc(17,Rt,2,0,"span",10),i.Qb(18,"div",7),i.Qb(19,"span",8),i.rc(20,"* Password"),i.Pb(),i.Lb(21,"input",13),i.Pb(),i.pc(22,qt,2,0,"span",10),i.Qb(23,"div",11),i.Qb(24,"span",8),i.rc(25,"* Rol"),i.Pb(),i.Qb(26,"select",14),i.pc(27,Xt,2,2,"option",15),i.Pb(),i.Pb(),i.pc(28,Zt,2,0,"span",10),i.Pb(),i.Qb(29,"div",16),i.Qb(30,"button",17),i.Xb("click",function(){return e.Restoreform()}),i.Lb(31,"i",18),i.rc(32," Close "),i.Pb(),i.Qb(33,"button",19),i.Lb(34,"i",20),i.rc(35," Save user "),i.Pb(),i.Pb(),i.Qb(36,"div",21),i.Qb(37,"h3",22),i.rc(38,"Loading..."),i.Pb(),i.Qb(39,"div",23),i.Qb(40,"span",24),i.rc(41,"Loading..."),i.Pb(),i.Pb(),i.Pb(),i.Pb(),i.Pb(),i.Pb(),i.Pb()),2&t&&(i.zb(5),i.sc(1==e.isNewUser?"New User":"Update user"),i.zb(1),i.gc("formGroup",e.myFormUser),i.zb(2),i.gc("hidden",!0!==e.isNewUser),i.zb(3),i.gc("hidden",!0!==e.isNewUser),i.zb(1),i.gc("ngIf",e.fieldIsValid("email")),i.zb(5),i.gc("ngIf",e.fieldIsValid("name")),i.zb(1),i.gc("hidden",!0!==e.isNewUser),i.zb(3),i.gc("hidden",!0!==e.isNewUser),i.zb(1),i.gc("ngIf",e.fieldIsValid("password")),i.zb(5),i.gc("ngForOf",e.listRole),i.zb(1),i.gc("ngIf",e.fieldIsValid("rol")),i.zb(5),i.gc("disabled",e.myFormUser.invalid||e.showLoading)("hidden",e.productWasSaved),i.zb(3),i.gc("hidden",!e.showLoading))},directives:[s.n,s.f,s.d,s.a,s.e,s.c,s.k,o.l,s.l,o.k,s.g,s.o],styles:[".form-control[_ngcontent-%COMP%]:focus, .form-select[_ngcontent-%COMP%]:focus {\n      border-color: #FFCA2B !important;\n      box-shadow: 0 0 0 0.2rem rgb(255, 202, 43, 0.25) !important;\n}"]}),t})(),Kt=(()=>{class t{constructor(t){this.userService=t,this.userDelete=new i.n,this.showLoading=!1}ngOnInit(){}deleteUser(){this.showLoading=!0,this.userService.deleteUser(this.userDeleted).subscribe(t=>{this.showToast("Success","It was correctly eliminated","success",3e3),this.userDelete.emit(t.user),this.showLoading=!1},t=>{this.showToast("Error",t.message,"error"),this.showLoading=!1})}showToast(t,e,r,o=2e3){x.a.fire(t,e,r),setInterval(()=>{x.a.close()},o)}}return t.\u0275fac=function(e){return new(e||t)(i.Kb(_t))},t.\u0275cmp=i.Eb({type:t,selectors:[["app-modal-delete-user"]],inputs:{userDeleted:"userDeleted"},outputs:{userDelete:"userDelete"},decls:30,vars:2,consts:[["id","modalDeleteUser","tabindex","-1","aria-labelledby","modalDeleteProduct","aria-hidden","true","data-bs-backdrop","static",1,"modal","fade"],[1,"modal-dialog"],[1,"modal-content"],[1,"modal-header"],[1,"modal-title"],[1,"modal-body"],[1,"row"],[1,"col-sm-3"],[1,"col-sm-9"],[1,"col-sm-12","mt-3"],["type","button","data-bs-dismiss","modal",1,"btn","btn-danger"],[1,"pi","me-2","pi-times"],["type","button","data-bs-dismiss","modal",1,"btn","btn-dark","float-end",3,"click"],[1,"pi","me-2","pi-trash"],["hidden","showLoading",1,"text-center","mt-5","mb-5"],[1,"mb-3"],["role","status",1,"spinner-border","text-warning"],[1,"visually-hidden"]],template:function(t,e){1&t&&(i.Qb(0,"div",0),i.Qb(1,"div",1),i.Qb(2,"div",2),i.Qb(3,"div",3),i.Qb(4,"h5",4),i.rc(5," Delete User "),i.Pb(),i.Pb(),i.Qb(6,"div",5),i.Qb(7,"dl",6),i.Qb(8,"dt",7),i.rc(9,"Name:"),i.Pb(),i.Qb(10,"dd",8),i.rc(11),i.Pb(),i.Qb(12,"dt",7),i.rc(13,"Email:"),i.Pb(),i.Qb(14,"dd",8),i.Qb(15,"p"),i.rc(16),i.Pb(),i.Pb(),i.Qb(17,"div",9),i.Qb(18,"button",10),i.Lb(19,"i",11),i.rc(20," Back "),i.Pb(),i.Qb(21,"button",12),i.Xb("click",function(){return e.deleteUser()}),i.Lb(22,"i",13),i.rc(23," Delete user "),i.Pb(),i.Pb(),i.Pb(),i.Qb(24,"div",14),i.Qb(25,"h3",15),i.rc(26,"Loading..."),i.Pb(),i.Qb(27,"div",16),i.Qb(28,"span",17),i.rc(29,"Loading..."),i.Pb(),i.Pb(),i.Pb(),i.Pb(),i.Pb(),i.Pb(),i.Pb()),2&t&&(i.zb(11),i.tc(" ",e.userDeleted.name,""),i.zb(5),i.tc("",e.userDeleted.email," "))},encapsulation:2}),t})();function Vt(t,e){1&t&&(i.Qb(0,"div",3),i.Qb(1,"strong"),i.rc(2,"Loading..."),i.Pb(),i.Lb(3,"div",4),i.Pb())}function jt(t,e){if(1&t){const t=i.Rb();i.Qb(0,"tr"),i.Qb(1,"td"),i.Qb(2,"div",13),i.Qb(3,"div",14),i.Qb(4,"div",15),i.rc(5),i.ac(6,"titlecase"),i.Pb(),i.rc(7),i.Qb(8,"span",16),i.rc(9),i.ac(10,"rol"),i.Pb(),i.Pb(),i.Pb(),i.Pb(),i.Qb(11,"td"),i.Qb(12,"div",17),i.Qb(13,"button",18),i.Xb("click",function(){i.lc(t);const r=e.$implicit;return i.Zb(2).selectedUser(!1,r)}),i.Lb(14,"i",19),i.rc(15," Edit "),i.Pb(),i.Qb(16,"button",20),i.Xb("click",function(){i.lc(t);const r=e.$implicit;return i.Zb(2).selectedUser(!1,r)}),i.Lb(17,"i",21),i.rc(18," Delete "),i.Pb(),i.Pb(),i.Pb(),i.Pb()}if(2&t){const t=e.$implicit;i.zb(5),i.tc(" ",i.bc(6,3,t.name)," "),i.zb(2),i.tc(" ",t.email," "),i.zb(2),i.tc(" ",i.bc(10,5,t.rol)," ")}}function Gt(t,e){if(1&t){const t=i.Rb();i.Qb(0,"div"),i.Qb(1,"button",5),i.Xb("click",function(){return i.lc(t),i.Zb().selectedUser(!0)}),i.Lb(2,"i",6),i.rc(3," New User "),i.Pb(),i.Qb(4,"div",7),i.Qb(5,"table",8),i.Qb(6,"thead"),i.Qb(7,"tr"),i.Qb(8,"th",9),i.rc(9,"User"),i.Pb(),i.Qb(10,"th",9),i.rc(11,"Actions"),i.Pb(),i.Pb(),i.Pb(),i.Qb(12,"tbody"),i.pc(13,jt,19,7,"tr",10),i.Pb(),i.Pb(),i.Pb(),i.Qb(14,"app-user-add-and-update",11),i.Xb("userNew",function(e){return i.lc(t),i.Zb().addToUsersList(e)})("userUpdated",function(e){return i.lc(t),i.Zb().addToUserListUpdated(e)}),i.Pb(),i.Qb(15,"app-modal-delete-user",12),i.Xb("userDelete",function(e){return i.lc(t),i.Zb().deleteListUser(e)}),i.Pb(),i.Pb()}if(2&t){const t=i.Zb();i.zb(13),i.gc("ngForOf",t.listUsers),i.zb(1),i.gc("userInput",t.userSelected)("isNewUser",t.isNewUser),i.zb(1),i.gc("userDeleted",t.userSelected)}}function Wt(t,e){1&t&&(i.Qb(0,"div",23),i.rc(1," No Users were found! "),i.Pb())}function Ht(t,e){if(1&t&&i.pc(0,Wt,2,0,"div",22),2&t){const t=i.Zb();i.gc("ngIf",0==t.showLoading)}}let Yt=(()=>{class t{constructor(t,e){this.userService=t,this.messageService=e,this.listUsers=[],this.showLoading=!0,this.isNewUser=!0}ngOnInit(){this.userSelected={email:"",rol:"",name:"",state:!0},this.showLoading=!0,this.userService.getAllUser().subscribe(t=>{this.listUsers=t.users,this.showLoading=!1},t=>{this.showLoading=!1,this.messageService.add({severity:"error",summary:`${t.status}: ${t.statusText}`,detail:t.error.msg})})}addToUsersList(t){this.listUsers.push(t)}deleteListUser(t){this.listUsers=this.listUsers.filter(e=>e.uid!==t.uid)}addToUserListUpdated(t){const e=this.listUsers.findIndex(e=>e.uid==t.uid);let r=[...this.listUsers];r[e]=Object.assign(Object.assign({},r[e]),{name:t.name,email:t.email,rol:t.rol,state:t.state,password:t.password,uid:t.uid}),this.listUsers=r}selectedUser(t,e){0==t?void 0!==e&&(this.userSelected=e,this.isNewUser=t):this.isNewUser=t}}return t.\u0275fac=function(e){return new(e||t)(i.Kb(_t),i.Kb(P.c))},t.\u0275cmp=i.Eb({type:t,selectors:[["app-users-list"]],features:[i.yb([P.c])],decls:5,vars:3,consts:[["class","d-flex align-items-center p-3",4,"ngIf"],[4,"ngIf","ngIfElse"],["messageThereAreNoProducts",""],[1,"d-flex","align-items-center","p-3"],["role","status","aria-hidden","true",1,"spinner-border","ms-auto","text-warning"],["label","New category","data-bs-target","#modalUser","data-bs-toggle","modal",1,"mb-4","btn","btn-dark",3,"click"],[1,"pi","me-2","pi-plus"],[1,"table-responsive"],[1,"table","table-sm","table-hover","align-middle"],["scope","col"],[4,"ngFor","ngForOf"],[3,"userInput","isNewUser","userNew","userUpdated"],[3,"userDeleted","userDelete"],[1,"row","justify-content-sm-start","justify-content-md-start"],[1,"col-sm-2","col-md-2","text-cemter"],[1,"fw-bold","mt-2"],[1,"badge","bg-dark","mt-1","mb-2"],[1,"d-grid","gap-3","d-md-block"],["data-bs-target","#modalUser","data-bs-toggle","modal",1,"btn","btn-warning","mx-md-1","mb-2","mb-sm-2","mx-sm-2","mx-2","me-sm-4",3,"click"],[1,"pi","me-2","pi-pencil"],["data-bs-target","#modalDeleteUser","data-bs-toggle","modal",1,"btn","btn-danger","mx-md-1","mb-2","mb-sm-2","mx-sm-2","mx-2","me-sm-4",3,"click"],[1,"pi","me-2","pi-trash"],["class","alert alert-danger","role","alert",4,"ngIf"],["role","alert",1,"alert","alert-danger"]],template:function(t,e){if(1&t&&(i.pc(0,Vt,4,0,"div",0),i.Lb(1,"p-toast"),i.pc(2,Gt,16,4,"div",1),i.pc(3,Ht,1,1,"ng-template",null,2,i.qc)),2&t){const t=i.kc(4);i.gc("ngIf",e.showLoading),i.zb(2),i.gc("ngIf",0!==e.listUsers.length)("ngIfElse",t)}},directives:[o.l,q.a,o.k,Mt,Kt],pipes:[o.q,p],encapsulation:2}),t})();const Jt=[{path:"",children:[{path:"home",component:_},{path:"products",component:gt},{path:"categories",component:B},{path:"statistics",component:L,canLoad:[I],canActivate:[I]},{path:"sales",component:ft,children:[{path:"new",component:Et},{path:"history",component:St},{path:"**",redirectTo:"history"}]},{path:"users",component:At,children:[{path:"listUser",component:(()=>{class t{constructor(){}ngOnInit(){}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275cmp=i.Eb({type:t,selectors:[["app-list-user"]],decls:2,vars:0,template:function(t,e){1&t&&(i.Lb(0,"app-user-functions-list"),i.Lb(1,"app-users-list"))},directives:[Bt,Yt],encapsulation:2}),t})()}],canLoad:[I],canActivate:[I]},{path:"**",redirectTo:"home"}]}];let te=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=i.Ib({type:t}),t.\u0275inj=i.Hb({imports:[[u.f.forChild(Jt)],u.f]}),t})(),ee=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=i.Ib({type:t}),t.\u0275inj=i.Hb({imports:[[o.b,s.j,te,c.a]]}),t})()}}]);