(window.webpackJsonp=window.webpackJsonp||[]).push([[6],{NFwV:function(t,e,r){"use strict";r.r(e),r.d(e,"StoreModule",function(){return At});var o=r("ofXK"),s=r("fXoL"),i=r("lGQG"),c=r("tyNb");let a=(()=>{class t{constructor(t,e){this.authService=t,this.router=e}canActivate(){return this.authService.validateTokenByRole("ADMIN_ROLE")||window.alert("You do not have administrator permission"),this.authService.validateTokenByRole("ADMIN_ROLE")}canLoad(){return this.authService.validateTokenByRole("ADMIN_ROLE")}}return t.\u0275fac=function(e){return new(e||t)(s.Ub(i.a),s.Ub(c.b))},t.\u0275prov=s.Gb({token:t,factory:t.\u0275fac,providedIn:"root"}),t})(),n=(()=>{class t{constructor(){this.isFinished=!1}ngOnInit(){}finishPurchase(t){this.isFinished=t}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275cmp=s.Eb({type:t,selectors:[["app-shopping-cart"]],decls:54,vars:1,consts:[[1,"row"],[1,"col-sm-12","col-md-10","col-lg-9","col-xl-8"],[1,"p-5","bg-light"],[1,"mb-4","display-6"],[1,"table"],[1,"mt-3","h5"],["scope","col"],["scope","row"],[1,"display-6","mt-4"],[1,"lead"],[1,"my-2"],[1,"mb-3"],["for","payWith",1,"form-label","mt-3"],["type","number","id","payWith","placeholder","10.000",1,"form-control"],["type","button",1,"btn","btn-danger","btn-lg","mx-1","mb-1",3,"click"],[1,"btn","btn-secondary","mx-1","mb-1"],[1,"mb-3",3,"hidden"],[1,"alert","alert-success"],["for","payWith",1,"form-label"]],template:function(t,e){1&t&&(s.Qb(0,"div",0),s.Qb(1,"div",1),s.Qb(2,"div",2),s.Qb(3,"h2",3),s.uc(4,"Summary of purchase"),s.Pb(),s.Qb(5,"table",4),s.Qb(6,"caption",5),s.Qb(7,"Strong"),s.uc(8,"Total: $3.000"),s.Pb(),s.Pb(),s.Qb(9,"thead"),s.Qb(10,"tr"),s.Qb(11,"th",6),s.uc(12,"#"),s.Pb(),s.Qb(13,"th",6),s.uc(14,"Product"),s.Pb(),s.Qb(15,"th",6),s.uc(16,"Price"),s.Pb(),s.Qb(17,"th",6),s.uc(18,"Quantity"),s.Pb(),s.Qb(19,"th",6),s.uc(20,"Total"),s.Pb(),s.Pb(),s.Pb(),s.Qb(21,"tbody"),s.Qb(22,"tr"),s.Qb(23,"th",7),s.uc(24,"1"),s.Pb(),s.Qb(25,"td"),s.uc(26,"Arroz"),s.Pb(),s.Qb(27,"td"),s.uc(28,"1.000"),s.Pb(),s.Qb(29,"td"),s.uc(30,"3"),s.Pb(),s.Qb(31,"td"),s.uc(32,"3.000"),s.Pb(),s.Pb(),s.Pb(),s.Pb(),s.Qb(33,"h1",8),s.uc(34,"Finish purchase"),s.Pb(),s.Qb(35,"p",9),s.uc(36,"Enter the amount with which the client pays"),s.Pb(),s.Lb(37,"hr",10),s.Qb(38,"form"),s.Qb(39,"div",11),s.Qb(40,"label",12),s.uc(41,"Pay with"),s.Pb(),s.Lb(42,"input",13),s.Pb(),s.Qb(43,"div",11),s.Qb(44,"button",14),s.Xb("click",function(){return e.finishPurchase(!0)}),s.uc(45,"Finish purchase"),s.Pb(),s.Qb(46,"button",15),s.uc(47,"Cancel"),s.Pb(),s.Pb(),s.Qb(48,"div",16),s.Qb(49,"div",17),s.Qb(50,"label",18),s.uc(51,"Exchange"),s.Pb(),s.Qb(52,"h5"),s.uc(53,"$7.000"),s.Pb(),s.Pb(),s.Pb(),s.Pb(),s.Pb(),s.Pb(),s.Pb()),2&t&&(s.zb(48),s.gc("hidden",!e.isFinished))},encapsulation:2}),t})(),b=(()=>{class t{transform(t){switch(t){case"ADMIN_ROLE":return"ADMIN";case"EMPLOYEE_ROLE":return"EMPLOYEE";default:return""}}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275pipe=s.Jb({name:"rol",type:t,pure:!0}),t})();function d(t,e){if(1&t&&(s.Qb(0,"li",7),s.Qb(1,"button",16),s.Lb(2,"i"),s.Qb(3,"span",15),s.uc(4),s.Pb(),s.Pb(),s.Pb()),2&t){const t=e.$implicit;s.zb(1),s.Bb("Logout"!==t.label?"nav-link align-middle px-0 text-white":"nav-link align-middle px-0 bg-danger text-white px-3 mt-4"),s.gc("routerLink",t.routerLink),s.zb(1),s.Bb(t.icon),s.zb(2),s.vc(t.label)}}let l=(()=>{class t{constructor(t,e){this.authService=t,this.router=e,this.items=[{label:"Home",icon:"pi pi-fw pi-home",routerLink:"/store/home",routerLinkActiveOptions:"active"},{label:"Products",icon:"pi pi-fw pi-book",routerLink:"/store/products",routerLinkActiveOptions:"active"},{label:"Categories",icon:"pi pi-fw pi-list",routerLink:"/store/categories",routerLinkActiveOptions:"active"},{label:"Sales",icon:"pi pi-fw pi-shopping-cart",routerLink:"/store/sales/history",routerLinkActiveOptions:"active"},{label:"User",icon:"pi pi-fw pi-users",routerLink:"/store/users/listUser",routerLinkActiveOptions:"active"}]}get user(){return this.authService.user}ngOnInit(){}logout(){this.authService.logout(),this.router.navigateByUrl("/auth")}}return t.\u0275fac=function(e){return new(e||t)(s.Kb(i.a),s.Kb(c.b))},t.\u0275cmp=s.Eb({type:t,selectors:[["app-menu-store"]],decls:27,vars:6,consts:[[1,"d-flex","flex-column","align-items-center","align-items-sm-start","px-3","pt-2","text-white","min-vh-100"],["href","/",1,"d-flex","align-items-center","pb-3","mb-md-0","me-md-auto","text-white","text-decoration-none"],[1,"fs-5","d-none","d-sm-inline","mt-2"],[1,"ms-2","text-secondary"],["id","menu",1,"nav","nav-pills","flex-column","mb-sm-auto","mb-0","align-items-center","align-items-sm-start"],["class","nav-item",4,"ngFor","ngForOf"],[1,"rounded-pill","text-light","mt-5","mb-2"],[1,"nav-item"],[1,"nav-link","align-middle","px-0","text-light"],[1,"pi","pi-user"],[1,"ms-1","d-none","d-sm-inline","text-light"],[1,"nav-link","align-middle","px-0","text-light","mt-1"],[1,"pi","pi-envelope"],[1,"nav-link","align-middle","px-0","bg-danger","text-white","px-3","mt-4",3,"click"],[1,"pi","pi-fw","pi-chevron-left"],[1,"ms-1","d-none","d-sm-inline"],["routerLinkActive","bg-warning px-4",3,"routerLink"]],template:function(t,e){1&t&&(s.Qb(0,"div",0),s.Qb(1,"a",1),s.Qb(2,"span",2),s.uc(3,"MySTORE"),s.Qb(4,"small",3),s.uc(5,"1.0"),s.Pb(),s.Pb(),s.Pb(),s.Qb(6,"ul",4),s.sc(7,d,5,6,"li",5),s.Qb(8,"h5",6),s.uc(9),s.ac(10,"rol"),s.Pb(),s.Qb(11,"li",7),s.Qb(12,"a",8),s.Lb(13,"i",9),s.Qb(14,"span",10),s.uc(15),s.Pb(),s.Pb(),s.Pb(),s.Qb(16,"li",7),s.Qb(17,"a",11),s.Lb(18,"i",12),s.Qb(19,"span",10),s.uc(20),s.Pb(),s.Pb(),s.Pb(),s.Qb(21,"li",7),s.Qb(22,"a",13),s.Xb("click",function(){return e.logout()}),s.Lb(23,"i",14),s.Qb(24,"span",15),s.uc(25,"Logout"),s.Pb(),s.Pb(),s.Pb(),s.Pb(),s.Lb(26,"hr"),s.Pb()),2&t&&(s.zb(7),s.gc("ngForOf",e.items),s.zb(2),s.vc(s.bc(10,4,e.user.rol)),s.zb(6),s.wc(" ",e.user.name," "),s.zb(5),s.vc(e.user.email))},directives:[o.k,c.d,c.c],pipes:[b],styles:[".border-radius[_ngcontent-%COMP%]{\n            border-radius:10px\n        }"]}),t})();var u=r("tk/3"),m=r("AytR");let p=(()=>{class t{constructor(t){this.http=t,this._urlBase=m.a.URLBASE,this.getListCategories=()=>[{name:"Grocery"},{name:"Dairy products"}]}getAllCategories(){const t=`${this._urlBase}/category`,e=(new u.c).set("x-token",localStorage.getItem("token")||"");return this.http.get(t,{headers:e})}getNameCategory(t){const e=`${this._urlBase}/${t}`,r=(new u.c).set("x-token",localStorage.getItem("token")||"");return this.http.get(e,{headers:r})}saveCategory(t){const e=`${this._urlBase}/category`,r=(new u.c).set("x-token",localStorage.getItem("token")||"");return this.http.post(e,{name:t},{headers:r})}updateCategory(t,e){const r=`${this._urlBase}/category/${t}`,o=(new u.c).set("x-token",localStorage.getItem("token")||"");return this.http.put(r,{name:e},{headers:o})}deleteCategory(t){const e=`${this._urlBase}/category/${t.uid}`,r=(new u.c).set("x-token",localStorage.getItem("token")||"");return this.http.delete(e,{headers:r})}}return t.\u0275fac=function(e){return new(e||t)(s.Ub(u.a))},t.\u0275prov=s.Gb({token:t,factory:t.\u0275fac,providedIn:"root"}),t})();var g=r("3Pt+"),h=r("7zfz");function P(t,e){1&t&&(s.Qb(0,"span",17),s.uc(1," The name must be required "),s.Pb())}let v=(()=>{class t{constructor(t,e,r){this.fb=t,this.categoryService=e,this.messageService=r,this.categoryWasSaved=!1,this.categoryNew=new s.n,this.categoryUpdate=new s.n}ngOnChanges(t){var e,r;void 0!==this.myFormCategory&&(this.myFormCategory.controls.name.setValue(null===(e=this.categoryInput)||void 0===e?void 0:e.name),this.myFormCategory.controls._id.setValue(null===(r=this.categoryInput)||void 0===r?void 0:r.uid))}ngOnInit(){this.myFormCategory=this.fb.group({name:["",g.m.required],_id:[""]})}saveCategory(){this.categoryService.saveCategory(this.myFormCategory.controls.name.value).subscribe(t=>{this.categoryWasSaved=!0,this.messageService.add({severity:"success",summary:" saved correctly",detail:""}),this.categoryNew.emit(t.category)},t=>{400==t.status&&this.messageService.add({severity:"error",summary:"Error Bad Request: 400",detail:" Error: Check the data entered: In case the error persists, contact the technical support."}),500==t.status&&this.messageService.add({severity:"error",summary:"Error:  HTTP server internal error",detail:"Contact the technical support."})})}updateCategory(){this.categoryService.updateCategory(this.myFormCategory.controls._id.value,this.myFormCategory.controls.name.value).subscribe(t=>{this.categoryWasSaved=!0,this.messageService.add({severity:"success",summary:" saved correctly",detail:""}),this.categoryUpdate.emit(t.category)},t=>{400==t.status&&this.messageService.add({severity:"error",summary:"Error Bad Request: 400",detail:" Error: Check the data entered: In case the error persists, contact the technical support."}),500==t.status&&this.messageService.add({severity:"error",summary:"Error:  HTTP server internal error",detail:"Contact the technical support."})})}fieldIsValid(t){return this.myFormCategory.controls[t].errors&&this.myFormCategory.controls[t].touched}Restoreform(){setTimeout(()=>{this.categoryWasSaved=!1,this.myFormCategory.reset()},500)}}return t.\u0275fac=function(e){return new(e||t)(s.Kb(g.b),s.Kb(p),s.Kb(h.d))},t.\u0275cmp=s.Eb({type:t,selectors:[["app-category-features"]],inputs:{categoryInput:"categoryInput",isNewCategory:"isNewCategory"},outputs:{categoryNew:"categoryNew",categoryUpdate:"categoryUpdate"},features:[s.yb([h.d]),s.xb],decls:21,vars:5,consts:[["id","modalCategory","data-bs-backdrop","static","data-bs-keyboard","false","tabindex","-1","aria-labelledby","staticBackdropLabel","aria-hidden","true",1,"modal","fade"],[1,"modal-dialog"],[1,"modal-content"],[1,"modal-header"],["id","staticBackdropLabel",1,"modal-title"],["type","button","data-bs-dismiss","modal","aria-label","Close",1,"btn-close"],[3,"formGroup","ngSubmit"],[1,"modal-body"],[1,"input-group","mb-3"],[1,"input-group-text"],["type","text","placeholder","Name","aria-label","name","formControlName","name","aria-describedby","basic-addon1",1,"form-control"],["class","input-group alert alert-danger mb-3",4,"ngIf"],[1,"modal-footer"],["type","button","data-bs-dismiss","modal",1,"btn","btn-danger",3,"click"],[1,"pi","me-2","pi-times"],["type","submit",1,"btn","btn-dark","float-end",3,"disabled","hidden"],[1,"pi","me-2","pi-save"],[1,"input-group","alert","alert-danger","mb-3"]],template:function(t,e){1&t&&(s.Qb(0,"div",0),s.Qb(1,"div",1),s.Qb(2,"div",2),s.Qb(3,"div",3),s.Qb(4,"h5",4),s.uc(5),s.Pb(),s.Lb(6,"button",5),s.Pb(),s.Qb(7,"form",6),s.Xb("ngSubmit",function(){return 1==e.isNewCategory?e.saveCategory():e.updateCategory()}),s.Qb(8,"div",7),s.Qb(9,"div",8),s.Qb(10,"span",9),s.uc(11,"Name"),s.Pb(),s.Lb(12,"input",10),s.Pb(),s.sc(13,P,2,0,"span",11),s.Pb(),s.Qb(14,"div",12),s.Qb(15,"button",13),s.Xb("click",function(){return e.Restoreform()}),s.Lb(16,"i",14),s.uc(17," Close "),s.Pb(),s.Qb(18,"button",15),s.Lb(19,"i",16),s.uc(20," Save product "),s.Pb(),s.Pb(),s.Pb(),s.Pb(),s.Pb(),s.Pb()),2&t&&(s.zb(5),s.wc(" ",1==e.isNewCategory?"New Category":"Update Category"," "),s.zb(2),s.gc("formGroup",e.myFormCategory),s.zb(6),s.gc("ngIf",e.fieldIsValid("name")),s.zb(5),s.gc("disabled",e.myFormCategory.invalid)("hidden",e.categoryWasSaved))},directives:[g.n,g.g,g.d,g.a,g.f,g.c,o.l],encapsulation:2}),t})();var f=r("Gxio");let y=(()=>{class t{constructor(t,e){this.categoryService=t,this.messageService=e,this.categoryDelete=new s.n,this.eliminatedCategory=!1}ngOnInit(){}deleteCategory(t){this.categoryService.deleteCategory(t).subscribe(t=>{var e;1==t.status?(this.eliminatedCategory=!0,this.messageService.add({severity:"success",summary:"Category eliied correctly",detail:""}),this.categoryDelete.emit(t.category)):this.messageService.add({severity:"error",summary:`There are ${null===(e=t.categorySelected)||void 0===e?void 0:e.length} products with this category`,detail:"Can not be eliminated, you must delete the products first"})})}activateButtonAgain(){setTimeout(()=>{this.eliminatedCategory=!1},2e3)}}return t.\u0275fac=function(e){return new(e||t)(s.Kb(p),s.Kb(h.d))},t.\u0275cmp=s.Eb({type:t,selectors:[["app-modal-delete-category"]],inputs:{categorySelected:"categorySelected"},outputs:{categoryDelete:"categoryDelete"},features:[s.yb([h.d])],decls:18,vars:3,consts:[["id","modalDeteteCategory","tabindex","-1","aria-labelledby","modalDeleteProduct","aria-hidden","true","data-bs-backdrop","static",1,"modal","fade"],[1,"modal-dialog"],[1,"modal-content"],[1,"modal-header"],["id","modalNewProduct",1,"modal-title"],["type","button","data-bs-dismiss","modal","aria-label","Close",1,"btn-close"],[1,"modal-body"],[1,"mb-3"],[1,"col-sm-12","mt-3"],["type","button","label","Back","data-bs-dismiss","modal",1,"btn","btn-danger",3,"click"],[1,"pi","me-2","pi-times"],["type","button",1,"btn","btn-dark","float-end",3,"disabled","hidden","click"],[1,"pi","me-2","pi-trash"]],template:function(t,e){1&t&&(s.Qb(0,"div",0),s.Qb(1,"div",1),s.Qb(2,"div",2),s.Qb(3,"div",3),s.Qb(4,"h5",4),s.uc(5,"Delete category"),s.Pb(),s.Lb(6,"button",5),s.Pb(),s.Qb(7,"div",6),s.Qb(8,"h3",7),s.uc(9),s.Pb(),s.Qb(10,"div",8),s.Qb(11,"button",9),s.Xb("click",function(){return e.activateButtonAgain()}),s.Lb(12,"i",10),s.uc(13," Back "),s.Pb(),s.Qb(14,"button",11),s.Xb("click",function(){return e.deleteCategory(e.categorySelected)}),s.Lb(15,"i",12),s.uc(16," Delete category "),s.Pb(),s.Pb(),s.Pb(),s.Pb(),s.Pb(),s.Lb(17,"p-toast"),s.Pb()),2&t&&(s.zb(9),s.vc(e.categorySelected.name),s.zb(5),s.gc("disabled",e.eliminatedCategory)("hidden",e.eliminatedCategory))},directives:[f.a],encapsulation:2}),t})();function Q(t,e){1&t&&(s.Qb(0,"div",5),s.Qb(1,"strong"),s.uc(2,"Loading..."),s.Pb(),s.Lb(3,"div",6),s.Pb())}function w(t,e){if(1&t){const t=s.Rb();s.Qb(0,"tr"),s.Qb(1,"th",13),s.uc(2),s.Pb(),s.Qb(3,"td"),s.uc(4),s.Pb(),s.Qb(5,"td"),s.Qb(6,"div",14),s.Qb(7,"button",15),s.Xb("click",function(){s.nc(t);const r=e.$implicit;return s.Zb(2).goToProductByCategory(r)}),s.Lb(8,"i",16),s.uc(9," View products "),s.Pb(),s.Qb(10,"button",17),s.Xb("click",function(){s.nc(t);const r=e.$implicit;return s.Zb(2).selectCategory(!1,r)}),s.Lb(11,"i",18),s.uc(12," Edit "),s.Pb(),s.Qb(13,"button",19),s.Xb("click",function(){s.nc(t);const r=e.$implicit;return s.Zb(2).selectCategory(!1,r)}),s.Lb(14,"i",20),s.uc(15," Delete "),s.Pb(),s.Pb(),s.Pb(),s.Pb()}if(2&t){const t=e.$implicit,r=e.index;s.zb(2),s.vc(r+1),s.zb(2),s.vc(t.name)}}function k(t,e){if(1&t){const t=s.Rb();s.Qb(0,"div",7),s.Qb(1,"button",8),s.Xb("click",function(){return s.nc(t),s.Zb().selectCategory(!0)}),s.Lb(2,"i",9),s.uc(3," New category\n"),s.Pb(),s.Qb(4,"table",10),s.Qb(5,"thead"),s.Qb(6,"tr"),s.Qb(7,"th",11),s.uc(8,"#"),s.Pb(),s.Qb(9,"th",11),s.uc(10,"Name"),s.Pb(),s.Qb(11,"th",11),s.uc(12,"Actions"),s.Pb(),s.Pb(),s.Pb(),s.Qb(13,"tbody"),s.sc(14,w,16,2,"tr",12),s.Pb(),s.Pb(),s.Pb()}if(2&t){const t=s.Zb();s.zb(14),s.gc("ngForOf",t.listCategories)}}function L(t,e){1&t&&(s.Qb(0,"div",22),s.uc(1," No categories were found! "),s.Pb())}function S(t,e){if(1&t&&s.sc(0,L,2,0,"div",21),2&t){const t=s.Zb();s.gc("ngIf",0==t.showLoading)}}let F=(()=>{class t{constructor(t,e){this.categoriesService=t,this.router=e,this.listCategories=[],this.categorySelected={name:"Abarrates"},this.isNewCategory=!0,this.showLoading=!0}ngOnInit(){this.showLoading=!0,this.categoriesService.getAllCategories().subscribe(t=>{this.listCategories=t.categories,this.showLoading=!1},t=>{this.showLoading=!1})}selectCategory(t,e){void 0!==e&&(this.categorySelected=e,this.isNewCategory=t)}addToTheList(t){this.listCategories.push(t)}updateToTheList(t){const e=this.listCategories.findIndex(e=>e.uid==t.uid);let r=[...this.listCategories];r[e]=Object.assign(Object.assign({},r[e]),{name:t.name,uid:t.uid}),this.listCategories=r}deleteToTheList(t){this.listCategories=this.listCategories.filter(e=>e.uid!==t.uid)}goToProductByCategory(t){this.router.navigate(["/store/products"],{queryParams:{categoryid:t.uid}})}}return t.\u0275fac=function(e){return new(e||t)(s.Kb(p),s.Kb(c.b))},t.\u0275cmp=s.Eb({type:t,selectors:[["app-list-categories"]],decls:6,vars:6,consts:[["class","d-flex align-items-center p-3",4,"ngIf"],["class","table-responsive",4,"ngIf","ngIfElse"],["messageThereAreNoCategories",""],[3,"categoryInput","isNewCategory","categoryNew","categoryUpdate"],[3,"categorySelected","categoryDelete"],[1,"d-flex","align-items-center","p-3"],["role","status","aria-hidden","true",1,"spinner-border","ms-auto","text-warning"],[1,"table-responsive"],["label","New category","data-bs-target","#modalCategory","data-bs-toggle","modal",1,"mb-4","btn","btn-dark",3,"click"],[1,"pi","me-2","pi-plus"],[1,"table","table-sm"],["scope","col"],[4,"ngFor","ngForOf"],["scope","row"],[1,"d-grid","gap-3","d-md-block"],[1,"btn","btn-dark","mx-md-1","mb-2","mb-sm-2","mx-sm-2","mx-2","me-sm-4",3,"click"],[1,"pi","me-2","pi-eye"],["data-bs-target","#modalCategory","data-bs-toggle","modal",1,"btn","btn-warning","mx-md-1","mb-2","mb-sm-2","mx-sm-2","mx-2","me-sm-4",3,"click"],[1,"pi","me-2","pi-pencil"],["data-bs-target","#modalDeteteCategory","data-bs-toggle","modal",1,"btn","btn-danger","mx-md-1","mb-2","mb-sm-2","mx-sm-2","mx-2","me-sm-4",3,"click"],[1,"pi","me-2","pi-trash"],["class","alert alert-danger","role","alert",4,"ngIf"],["role","alert",1,"alert","alert-danger"]],template:function(t,e){if(1&t&&(s.sc(0,Q,4,0,"div",0),s.sc(1,k,15,1,"div",1),s.sc(2,S,1,1,"ng-template",null,2,s.tc),s.Qb(4,"app-category-features",3),s.Xb("categoryNew",function(t){return e.addToTheList(t)})("categoryUpdate",function(t){return e.updateToTheList(t)}),s.Pb(),s.Qb(5,"app-modal-delete-category",4),s.Xb("categoryDelete",function(t){return e.deleteToTheList(t)}),s.Pb()),2&t){const t=s.mc(3);s.gc("ngIf",e.showLoading),s.zb(1),s.gc("ngIf",0!==e.listCategories.length)("ngIfElse",t),s.zb(3),s.gc("categoryInput",e.categorySelected)("isNewCategory",e.isNewCategory),s.zb(1),s.gc("categorySelected",e.categorySelected)}},directives:[o.l,v,y,o.k],encapsulation:2}),t})(),x=(()=>{class t{constructor(){}ngOnInit(){}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275cmp=s.Eb({type:t,selectors:[["app-category"]],decls:11,vars:0,consts:[[1,"container-fluid"],[1,"row","flex-nowrap"],[1,"col-auto","col-md-3","col-xl-2","px-sm-2","px-0","bg-dark"],[1,"col","py-3"],[1,"row","justify-content-lg-center"],[1,"col-12","col-sm-12","col-md-12","col-lg-12","col-xl-11"],[1,"alert","alert-warning"]],template:function(t,e){1&t&&(s.Qb(0,"div",0),s.Qb(1,"div",1),s.Lb(2,"app-menu-store",2),s.Qb(3,"div",3),s.Qb(4,"div",4),s.Qb(5,"div",5),s.Qb(6,"div",6),s.Qb(7,"h4"),s.uc(8,"List categories"),s.Pb(),s.Pb(),s.Pb(),s.Qb(9,"div",5),s.Lb(10,"app-list-categories"),s.Pb(),s.Pb(),s.Pb(),s.Pb(),s.Pb())},directives:[l,F],encapsulation:2}),t})(),I=(()=>{class t{ngOnInit(){}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275cmp=s.Eb({type:t,selectors:[["app-home"]],decls:45,vars:0,consts:[[1,"container-fluid"],[1,"row","flex-nowrap"],[1,"col-auto","col-md-3","col-xl-2","px-sm-2","px-0","bg-dark"],[1,"col","py-3"],[1,"row","justify-content-lg-center"],[1,"col-auto","col-sm-12","col-md-12","col-lg-12","col-xl-11"],["role","alert",1,"alert","mb-4","alert-dark"],["role","alert",1,"alert","mb-4","alert-warning"],[1,"list-unstyled"],[1,"row"],[1,"col-sm-12","col-md-6"],[1,"mt-3"]],template:function(t,e){1&t&&(s.Qb(0,"div",0),s.Qb(1,"div",1),s.Lb(2,"app-menu-store",2),s.Qb(3,"div",3),s.Qb(4,"div",4),s.Qb(5,"div",5),s.Qb(6,"div",6),s.Qb(7,"h1"),s.uc(8,"Home"),s.Pb(),s.Qb(9,"p"),s.uc(10,"Management system of your warehouse."),s.Pb(),s.Pb(),s.Pb(),s.Qb(11,"div",5),s.Qb(12,"div",7),s.Qb(13,"h3"),s.uc(14,"List functions"),s.Pb(),s.Qb(15,"ul",8),s.Qb(16,"div",9),s.Qb(17,"div",10),s.Qb(18,"h5",11),s.Qb(19,"strong"),s.uc(20,"Products:"),s.Pb(),s.Pb(),s.Qb(21,"li"),s.Qb(22,"ul"),s.Qb(23,"li"),s.uc(24,"Add product"),s.Pb(),s.Qb(25,"li"),s.uc(26,"Edit product"),s.Pb(),s.Qb(27,"li"),s.uc(28,"Update product"),s.Pb(),s.Qb(29,"li"),s.uc(30,"Delete product"),s.Pb(),s.Pb(),s.Pb(),s.Pb(),s.Qb(31,"div",10),s.Qb(32,"h5",11),s.Qb(33,"strong"),s.uc(34,"Categories:"),s.Pb(),s.Pb(),s.Qb(35,"li"),s.Qb(36,"ul"),s.Qb(37,"li"),s.uc(38,"Add categories"),s.Pb(),s.Qb(39,"li"),s.uc(40,"Edit categories"),s.Pb(),s.Qb(41,"li"),s.uc(42,"Update categories"),s.Pb(),s.Qb(43,"li"),s.uc(44,"Delete categories"),s.Pb(),s.Pb(),s.Pb(),s.Pb(),s.Pb(),s.Pb(),s.Pb(),s.Pb(),s.Pb(),s.Pb(),s.Pb(),s.Pb())},directives:[l],encapsulation:2}),t})();function C(t,e){if(1&t&&(s.Qb(0,"div",4),s.Qb(1,"li"),s.uc(2),s.Pb(),s.Pb()),2&t){const t=e.$implicit;s.zb(2),s.vc(t)}}let z=(()=>{class t{constructor(){}ngOnInit(){this.listFuntion=["Create product","See detail","Edit product","Remove product","Search for the name"]}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275cmp=s.Eb({type:t,selectors:[["app-product-functions-list"]],decls:8,vars:1,consts:[["role","alert",1,"alert","alert-warning","mb-4"],[1,"list-unstyled"],[1,"row"],["class","col-sm-12 col-md-6 col-lg-4 col-xl-3",4,"ngFor","ngForOf"],[1,"col-sm-12","col-md-6","col-lg-4","col-xl-3"]],template:function(t,e){1&t&&(s.Qb(0,"div",0),s.Qb(1,"h4"),s.uc(2,"List products"),s.Pb(),s.Qb(3,"p"),s.uc(4,"Full list of all products in DB"),s.Pb(),s.Qb(5,"ul",1),s.Qb(6,"div",2),s.sc(7,C,3,1,"div",3),s.Pb(),s.Pb(),s.Pb()),2&t&&(s.zb(7),s.gc("ngForOf",e.listFuntion))},directives:[o.k],encapsulation:2}),t})(),N=(()=>{class t{constructor(t){this.http=t,this._urlBase=m.a.URLBASE}getAllProducts(t=0){const e=`${this._urlBase}/products?from=${t}`,r=(new u.c).set("x-token",localStorage.getItem("token")||"");return this.http.get(e,{headers:r})}getProductById(t,e){var r;r=0!==(null==t?void 0:t.length)?`${this._urlBase}/products/search?product=${t}`:`${this._urlBase}/products/search?category=${e}`;const o=(new u.c).set("x-token",localStorage.getItem("token")||"");return this.http.get(r,{headers:o})}saveNewProduct(t){const e=`${this._urlBase}/products`,r=(new u.c).set("x-token",localStorage.getItem("token")||"");return this.http.post(e,t,{headers:r})}updateProduct(t,e){const r=`${this._urlBase}/products/${e}`,o=(new u.c).set("x-token",localStorage.getItem("token")||"");return this.http.put(r,t,{headers:o})}deleteProduct(t){const e=`${this._urlBase}/products/${t._id}`,r=(new u.c).set("x-token",localStorage.getItem("token")||"");return this.http.delete(e,{headers:r})}}return t.\u0275fac=function(e){return new(e||t)(s.Ub(u.a))},t.\u0275prov=s.Gb({token:t,factory:t.\u0275fac,providedIn:"root"}),t})();function E(t,e){if(1&t&&(s.Qb(0,"option",11),s.uc(1),s.Pb()),2&t){const t=e.$implicit;s.gc("value",t.uid),s.zb(1),s.vc(t.name)}}let O=(()=>{class t{constructor(t,e,r,o){this.fb=t,this.productService=e,this.categoryService=r,this.messageService=o,this.categoryList=[],this.productSearch=new s.n}ngOnInit(){this.searchForm=this.fb.group({product:["",g.m.required],category:["",g.m.required]}),this.categoryService.getAllCategories().subscribe(t=>{this.categoryList=t.categories})}searchProduct(){const t=this.searchForm.controls.product.value,e=this.searchForm.controls.category.value;t.length>=1?this.productService.getProductById(t).subscribe(t=>{this.productSearch.emit(t),this.searchForm.controls.product.reset(""),this.searchForm.controls.category.reset(""),this.messageService.add({severity:"success",summary:"It was filtered by product name",detail:""})},()=>{this.messageService.add({severity:"warn",summary:"Error, contact technical support",detail:""})}):this.productService.getProductById("",e).subscribe(t=>{this.productSearch.emit(t),this.searchForm.controls.category.reset(""),this.searchForm.controls.product.reset(""),this.messageService.add({severity:"success",summary:"It was filtered by category name",detail:""})},()=>{this.messageService.add({severity:"warn",summary:"Error, contact technical support",detail:""})})}getAllProducts(){this.searchForm.controls.product.reset(),this.productService.getAllProducts().subscribe(t=>{this.productSearch.emit(t.products)})}}return t.\u0275fac=function(e){return new(e||t)(s.Kb(g.b),s.Kb(N),s.Kb(p),s.Kb(h.d))},t.\u0275cmp=s.Eb({type:t,selectors:[["app-search"]],outputs:{productSearch:"productSearch"},features:[s.yb([h.d])],decls:20,vars:4,consts:[[1,"mt-2"],[1,"mb-5",3,"formGroup","ngSubmit"],[1,"input-group"],["type","search","placeholder","Search product name","aria-label","Search","aria-describedby","search-addon","formControlName","product",1,"form-control","rounded"],["type","submit",1,"btn","btn-outline-dark",3,"disabled"],[1,"pi","me-2","pi-search"],["type","button",1,"btn","btn-outline-danger",3,"click"],[1,"pi","me-2","pi-times"],[1,"input-group","mt-3"],["type","search","formControlName","category",1,"form-select","rounded"],[3,"value",4,"ngFor","ngForOf"],[3,"value"]],template:function(t,e){1&t&&(s.Qb(0,"div",0),s.Qb(1,"form",1),s.Xb("ngSubmit",function(){return e.searchProduct()}),s.Qb(2,"div",2),s.Lb(3,"input",3),s.Qb(4,"button",4),s.Lb(5,"i",5),s.uc(6," Search "),s.Pb(),s.Qb(7,"button",6),s.Xb("click",function(){return e.getAllProducts()}),s.Lb(8,"i",7),s.uc(9," Clear "),s.Pb(),s.Pb(),s.Qb(10,"div",8),s.Qb(11,"select",9),s.sc(12,E,2,2,"option",10),s.Pb(),s.Qb(13,"button",4),s.Lb(14,"i",5),s.uc(15," Search "),s.Pb(),s.Qb(16,"button",6),s.Xb("click",function(){return e.getAllProducts()}),s.Lb(17,"i",7),s.uc(18," Clear "),s.Pb(),s.Pb(),s.Pb(),s.Pb(),s.Lb(19,"p-toast")),2&t&&(s.zb(1),s.gc("formGroup",e.searchForm),s.zb(3),s.gc("disabled",e.searchForm.controls.product.invalid),s.zb(8),s.gc("ngForOf",e.categoryList),s.zb(1),s.gc("disabled",e.searchForm.controls.category.invalid))},directives:[g.n,g.g,g.d,g.a,g.f,g.c,g.l,o.k,f.a,g.h,g.o],encapsulation:2}),t})();var A=r("jhN1");function T(t,e){1&t&&(s.Qb(0,"span",27),s.uc(1," The name must be required "),s.Pb())}function D(t,e){1&t&&(s.Qb(0,"span",27),s.uc(1," The description must be required "),s.Pb())}function U(t,e){1&t&&(s.Qb(0,"span",27),s.uc(1," The img must be required "),s.Pb())}function B(t,e){1&t&&(s.Qb(0,"span",27),s.uc(1," The Price must be required "),s.Pb())}function R(t,e){1&t&&(s.Qb(0,"span",27),s.uc(1," The stock must be required "),s.Pb())}function _(t,e){if(1&t&&(s.Qb(0,"option",28),s.uc(1),s.Pb()),2&t){const t=e.$implicit;s.gc("value",t.uid),s.zb(1),s.vc(t.name)}}function $(t,e){1&t&&(s.Qb(0,"span",27),s.uc(1," The category must be required "),s.Pb())}let q=(()=>{class t{constructor(t,e,r,o,i){this.fb=t,this.productService=e,this.categoryService=r,this.messageService=o,this.sanitizer=i,this.productNew=new s.n,this.productUpdate=new s.n,this.listCategories=[{name:"default"}],this.productWasSaved=!1,this.showLoading=!1,this.files=[],this.extractBase64=t=>{return e=this,void 0,o=function*(){return new Promise((e,r)=>{try{const r=window.URL.createObjectURL(t),o=(this.sanitizer.bypassSecurityTrustUrl(r),new FileReader);o.readAsDataURL(t),o.onload=()=>{e({base:o.result})},o.onerror=t=>{e({base:null})}}catch(o){r({error:o})}})},new((r=void 0)||(r=Promise))(function(t,s){function i(t){try{a(o.next(t))}catch(e){s(e)}}function c(t){try{a(o.throw(t))}catch(e){s(e)}}function a(e){var o;e.done?t(e.value):(o=e.value,o instanceof r?o:new r(function(t){t(o)})).then(i,c)}a((o=o.apply(e,[])).next())});var e,r,o}}ngOnChanges(t){var e,r,o,s,i,c,a;void 0!==this.myFormProduct&&(this.myFormProduct.controls._id.setValue(null===(e=this.productInput)||void 0===e?void 0:e._id),this.myFormProduct.controls.name.setValue(null===(r=this.productInput)||void 0===r?void 0:r.name),this.myFormProduct.controls.description.setValue(null===(o=this.productInput)||void 0===o?void 0:o.description),this.myFormProduct.controls.img.setValue(null===(s=this.productInput)||void 0===s?void 0:s.img),this.myFormProduct.controls.category.setValue(null===(i=this.productInput)||void 0===i?void 0:i.category),this.myFormProduct.controls.price.setValue(null===(c=this.productInput)||void 0===c?void 0:c.price),this.myFormProduct.controls.stock.setValue(null===(a=this.productInput)||void 0===a?void 0:a.stock))}ngOnInit(){this.myFormProduct=this.fb.group({_id:[this.productInput._id],name:[this.productInput.name,g.m.required],img:[this.productInput.img,g.m.required],description:[this.productInput.description,g.m.required],price:[this.productInput.price,g.m.required],stock:[this.productInput.stock,g.m.required],category:[this.productInput.category,g.m.required]}),this.categoryService.getAllCategories().subscribe(t=>{this.listCategories=t.categories})}fieldIsValid(t){return this.myFormProduct.controls[t].errors&&this.myFormProduct.controls[t].touched}clearForm(){this.myFormProduct.reset()}captureDocument(t){this.extractBase64(t.target.files[0]).then(t=>{this.files.push(t.base)})}saveProduct(){try{this.showLoading=!0;const t=new FormData;t.append("category",this.myFormProduct.controls.category.value),t.append("description",this.myFormProduct.controls.description.value),t.append("img",this.myFormProduct.controls.img.value),t.append("name",this.myFormProduct.controls.name.value),t.append("price",this.myFormProduct.controls.price.value),t.append("stock",this.myFormProduct.controls.stock.value),t.append("_id",this.myFormProduct.controls._id.value),this.productService.saveNewProduct(t).subscribe(t=>{this.messageService.add({severity:"success",summary:"Saved correctly",detail:""}),this.productWasSaved=!0,this.productNew.emit(t.product),this.showLoading=!1},t=>{this.showLoading=!1,console.log(t.error),400==t.status&&this.messageService.add({severity:"error",summary:"Error Bad Request: 400",detail:" Error: Check the data entered: In case the error persists, contact the technical support."}),500==t.status&&this.messageService.add({severity:"error",summary:"Error:  HTTP server internal error",detail:"Contact the technical support."}),this.messageService.add({severity:"error",summary:t.error.msg,detail:""})})}catch(t){}}updateProduct(){const t=new FormData;t.append("files",this.files[0]),t.append("category",this.myFormProduct.controls.category.value),t.append("description",this.myFormProduct.controls.description.value),t.append("img",this.myFormProduct.controls.img.value),t.append("name",this.myFormProduct.controls.name.value),t.append("price",this.myFormProduct.controls.price.value),t.append("stock",this.myFormProduct.controls.stock.value),t.append("_id",this.myFormProduct.controls._id.value),this.productService.updateProduct(t,this.myFormProduct.controls._id.value).subscribe(t=>{this.messageService.add({severity:"success",summary:"Saved correctly",detail:""}),this.productWasSaved=!0,this.productUpdate.emit(t.product)},t=>{400==t.status&&this.messageService.add({severity:"error",summary:"Error Bad Request: 400",detail:" Error: Check the data entered: In case the error persists, contact the technical support."}),500==t.status&&this.messageService.add({severity:"error",summary:"Error:  HTTP server internal error",detail:"Contact the technical support."})})}Restoreform(){setTimeout(()=>{this.myFormProduct.reset(),this.productWasSaved=!1},100)}}return t.\u0275fac=function(e){return new(e||t)(s.Kb(g.b),s.Kb(N),s.Kb(p),s.Kb(h.d),s.Kb(A.b))},t.\u0275cmp=s.Eb({type:t,selectors:[["app-product-add-and-update"]],inputs:{productInput:"productInput",isNewProduct:"isNewProduct"},outputs:{productNew:"productNew",productUpdate:"productUpdate"},features:[s.yb([h.d]),s.xb],decls:54,vars:12,consts:[["id","modalProduct","data-bs-backdrop","static","data-bs-keyboard","false","tabindex","-1","aria-labelledby","staticBackdropLabel","aria-hidden","true",1,"modal","fade"],[1,"modal-dialog"],[1,"modal-content"],[1,"modal-header","mb-3"],["id","staticBackdropLabel",1,"modal-title"],["type","button","data-bs-dismiss","modal","aria-label","Close",1,"btn-close"],[3,"formGroup","ngSubmit"],[1,"modal-body"],[1,"input-group","mb-3"],[1,"input-group-text"],["type","text","placeholder","Name","aria-label","name","formControlName","name","aria-describedby","basic-addon1","required","",1,"form-control"],["class","input-group alert alert-danger mb-3",4,"ngIf"],["aria-label","description","formControlName","description","required","",1,"form-control"],["type","url","aria-label","imgProduct","formControlName","img","aria-describedby","basic-addon1","required","",1,"form-control"],["type","number","formControlName","price","aria-label","price","required","",1,"form-control"],["type","number","formControlName","stock","required","",1,"form-control"],["formControlName","category","aria-label","Default select example","required","",1,"form-select"],[3,"value",4,"ngFor","ngForOf"],[1,"modal-footer"],["type","button","data-bs-dismiss","modal",1,"btn","btn-danger",3,"click"],[1,"pi","me-2","pi-times"],["type","submit",1,"btn","btn-dark","float-end",3,"disabled","hidden"],[1,"pi","me-2","pi-save"],[1,"text-center","mt-5","mb-5",3,"hidden"],[1,"mb-3"],["role","status",1,"spinner-border","text-warning"],[1,"visually-hidden"],[1,"input-group","alert","alert-danger","mb-3"],[3,"value"]],template:function(t,e){1&t&&(s.Qb(0,"div",0),s.Qb(1,"div",1),s.Qb(2,"div",2),s.Qb(3,"div",3),s.Qb(4,"h5",4),s.uc(5),s.Pb(),s.Lb(6,"button",5),s.Pb(),s.Qb(7,"form",6),s.Xb("ngSubmit",function(){return 1==e.isNewProduct?e.saveProduct():e.updateProduct()}),s.Qb(8,"div",7),s.Qb(9,"div",8),s.Qb(10,"span",9),s.uc(11,"* Name"),s.Pb(),s.Lb(12,"input",10),s.Pb(),s.sc(13,T,2,0,"span",11),s.Qb(14,"div",8),s.Qb(15,"span",9),s.uc(16,"* Description"),s.Pb(),s.Lb(17,"textarea",12),s.Pb(),s.sc(18,D,2,0,"span",11),s.Qb(19,"div",8),s.Qb(20,"span",9),s.uc(21,"* Img"),s.Pb(),s.Lb(22,"input",13),s.Pb(),s.sc(23,U,2,0,"span",11),s.Qb(24,"div",8),s.Qb(25,"span",9),s.uc(26,"* Price $"),s.Pb(),s.Lb(27,"input",14),s.Pb(),s.sc(28,B,2,0,"span",11),s.Qb(29,"div",8),s.Qb(30,"span",9),s.uc(31,"* Stock"),s.Pb(),s.Lb(32,"input",15),s.Pb(),s.sc(33,R,2,0,"span",11),s.Qb(34,"div",8),s.Qb(35,"span",9),s.uc(36,"* Category"),s.Pb(),s.Qb(37,"select",16),s.sc(38,_,2,2,"option",17),s.Pb(),s.Pb(),s.sc(39,$,2,0,"span",11),s.Pb(),s.Qb(40,"div",18),s.Qb(41,"button",19),s.Xb("click",function(){return e.Restoreform()}),s.Lb(42,"i",20),s.uc(43," Close "),s.Pb(),s.Qb(44,"button",21),s.Lb(45,"i",22),s.uc(46," Save product "),s.Pb(),s.Pb(),s.Qb(47,"div",23),s.Qb(48,"h3",24),s.uc(49,"Loading..."),s.Pb(),s.Qb(50,"div",25),s.Qb(51,"span",26),s.uc(52,"Loading..."),s.Pb(),s.Pb(),s.Pb(),s.Pb(),s.Pb(),s.Pb(),s.Pb(),s.Lb(53,"p-toast")),2&t&&(s.zb(5),s.wc(" ",1==e.isNewProduct?" New product":"Update product"," "),s.zb(2),s.gc("formGroup",e.myFormProduct),s.zb(6),s.gc("ngIf",e.fieldIsValid("name")),s.zb(5),s.gc("ngIf",e.fieldIsValid("description")),s.zb(5),s.gc("ngIf",e.fieldIsValid("img")),s.zb(5),s.gc("ngIf",e.fieldIsValid("price")),s.zb(5),s.gc("ngIf",e.fieldIsValid("stock")),s.zb(5),s.gc("ngForOf",e.listCategories),s.zb(1),s.gc("ngIf",e.fieldIsValid("category")),s.zb(5),s.gc("disabled",e.myFormProduct.invalid||e.showLoading)("hidden",e.productWasSaved),s.zb(3),s.gc("hidden",!e.showLoading))},directives:[g.n,g.g,g.d,g.a,g.f,g.c,g.k,o.l,g.i,g.l,o.k,f.a,g.h,g.o],encapsulation:2}),t})(),X=(()=>{class t{constructor(t){this.productService=t,this.productDelete=new s.n,this.productRemoved=!1,this.showLoading=!1}ngOnInit(){}deleteProduct(){this.showLoading=!0,this.productService.deleteProduct(this.productSelected).subscribe(t=>{this.productDelete.emit(t.product),this.productRemoved=!0,this.showLoading=!1},t=>{console.log(t.msg),this.showLoading=!1})}activateButtonAgain(){setTimeout(()=>{this.productRemoved=!1},2e3)}}return t.\u0275fac=function(e){return new(e||t)(s.Kb(N))},t.\u0275cmp=s.Eb({type:t,selectors:[["app-modal-delete-product"]],inputs:{productSelected:"productSelected",productRemoved:"productRemoved"},outputs:{productDelete:"productDelete"},decls:31,vars:6,consts:[["id","modalDeleteProduct","tabindex","-1","aria-labelledby","modalDeleteProduct","aria-hidden","true","data-bs-backdrop","static",1,"modal","fade"],[1,"modal-dialog"],[1,"modal-content"],[1,"modal-header"],["id","modalNewProduct",1,"modal-title"],["type","button","data-bs-dismiss","modal","aria-label","Close",1,"btn-close"],[1,"modal-body"],[1,"row"],[1,"col-sm-3"],[1,"col-sm-9"],[1,"col-sm-12","mt-3"],["type","button","data-bs-dismiss","modal",1,"btn","btn-danger",3,"click"],[1,"pi","me-2","pi-times"],["type","button",1,"btn","btn-dark","float-end",3,"disabled","hidden","click"],[1,"pi","me-2","pi-trash"],[1,"text-center","mt-5","mb-5",3,"hidden"],[1,"mb-3"],["role","status",1,"spinner-border","text-warning"],[1,"visually-hidden"]],template:function(t,e){1&t&&(s.Qb(0,"div",0),s.Qb(1,"div",1),s.Qb(2,"div",2),s.Qb(3,"div",3),s.Qb(4,"h5",4),s.uc(5),s.Pb(),s.Lb(6,"button",5),s.Pb(),s.Qb(7,"div",6),s.Qb(8,"dl",7),s.Qb(9,"dt",8),s.uc(10,"Category:"),s.Pb(),s.Qb(11,"dd",9),s.uc(12),s.Pb(),s.Qb(13,"dt",8),s.uc(14,"Description:"),s.Pb(),s.Qb(15,"dd",9),s.Qb(16,"p"),s.uc(17),s.Pb(),s.Pb(),s.Qb(18,"div",10),s.Qb(19,"button",11),s.Xb("click",function(){return e.activateButtonAgain()}),s.Lb(20,"i",12),s.uc(21," Back "),s.Pb(),s.Qb(22,"button",13),s.Xb("click",function(){return e.deleteProduct()}),s.Lb(23,"i",14),s.uc(24," Delete product "),s.Pb(),s.Pb(),s.Pb(),s.Qb(25,"div",15),s.Qb(26,"h3",16),s.uc(27,"Loading..."),s.Pb(),s.Qb(28,"div",17),s.Qb(29,"span",18),s.uc(30,"Loading..."),s.Pb(),s.Pb(),s.Pb(),s.Pb(),s.Pb(),s.Pb(),s.Pb()),2&t&&(s.zb(5),s.wc(" Delete Product: ",e.productSelected.name," "),s.zb(7),s.vc(e.productSelected.category),s.zb(5),s.vc(e.productSelected.description),s.zb(5),s.gc("disabled",e.productRemoved||e.showLoading)("hidden",e.productRemoved),s.zb(3),s.gc("hidden",!e.showLoading))},encapsulation:2}),t})(),K=(()=>{class t{constructor(){this.nameProduct="name",this.descriptionProduct="description",this.priceProduct=0,this.stockProduct=0,this.imgProduct="",this.categoryProduct=" ",this.products=[]}ngOnInit(){}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275cmp=s.Eb({type:t,selectors:[["app-card-product"]],inputs:{nameProduct:"nameProduct",descriptionProduct:"descriptionProduct",priceProduct:"priceProduct",stockProduct:"stockProduct",imgProduct:"imgProduct",categoryProduct:"categoryProduct",products:"products"},decls:27,vars:16,consts:[[1,"card-body"],[1,"card-text"],[1,"text-muted"],[1,"img-fluid",3,"src","alt"],["type","button","label","Close","data-bs-dismiss","modal",1,"btn","btn-danger","float-end","mt-5"],[1,"pi","me-2","pi-times"]],template:function(t,e){1&t&&(s.Qb(0,"div",0),s.Qb(1,"p",1),s.Qb(2,"strong"),s.uc(3,"Product: "),s.Pb(),s.uc(4),s.ac(5,"titlecase"),s.Qb(6,"small",2),s.uc(7),s.Pb(),s.Lb(8,"br"),s.Qb(9,"strong"),s.uc(10,"Description: "),s.Pb(),s.uc(11),s.ac(12,"titlecase"),s.Lb(13,"br"),s.Qb(14,"strong"),s.uc(15,"Price: "),s.Pb(),s.uc(16),s.ac(17,"currency"),s.Lb(18,"br"),s.Qb(19,"strong"),s.uc(20,"Stock: "),s.Pb(),s.uc(21),s.Pb(),s.Qb(22,"div",1),s.Lb(23,"img",3),s.Pb(),s.Qb(24,"button",4),s.Lb(25,"i",5),s.uc(26," Close\n"),s.Pb(),s.Pb()),2&t&&(s.zb(4),s.wc("",s.bc(5,7,e.nameProduct)," | "),s.zb(3),s.vc(e.categoryProduct),s.zb(4),s.wc(" ",s.bc(12,9,e.descriptionProduct)," "),s.zb(5),s.wc(" ",s.dc(17,11,e.priceProduct,"USD","symbol","1.0-0")," "),s.zb(5),s.wc(" ",e.stockProduct," U "),s.zb(2),s.gc("src",e.imgProduct,s.pc)("alt",e.nameProduct))},pipes:[o.q,o.c],encapsulation:2}),t})(),M=(()=>{class t{constructor(){}ngOnInit(){}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275cmp=s.Eb({type:t,selectors:[["app-product-detail"]],inputs:{productSelected:"productSelected"},decls:9,vars:6,consts:[["id","modalDetailProduct","tabindex","-1","aria-labelledby","modalDetailProduct","aria-hidden","true","data-bs-backdrop","static",1,"modal","fade"],[1,"modal-dialog"],[1,"modal-content"],[1,"modal-header"],["id","modalNewProduct",1,"modal-title"],["type","button","data-bs-dismiss","modal","aria-label","Close",1,"btn-close"],[1,"modal-body"],[3,"nameProduct","imgProduct","descriptionProduct","priceProduct","stockProduct","categoryProduct"]],template:function(t,e){1&t&&(s.Qb(0,"div",0),s.Qb(1,"div",1),s.Qb(2,"div",2),s.Qb(3,"div",3),s.Qb(4,"h5",4),s.uc(5,"Detail Product"),s.Pb(),s.Lb(6,"button",5),s.Pb(),s.Qb(7,"div",6),s.Lb(8,"app-card-product",7),s.Pb(),s.Pb(),s.Pb(),s.Pb()),2&t&&(s.zb(8),s.gc("nameProduct",e.productSelected.name)("imgProduct",e.productSelected.img)("descriptionProduct",e.productSelected.description)("priceProduct",e.productSelected.price)("stockProduct",e.productSelected.stock)("categoryProduct",e.productSelected.category))},directives:[K],encapsulation:2}),t})();function V(t,e){1&t&&(s.Qb(0,"div",5),s.Qb(1,"strong"),s.uc(2,"Loading..."),s.Pb(),s.Lb(3,"div",6),s.Pb())}function Z(t,e){1&t&&(s.Qb(0,"td"),s.Qb(1,"span",38),s.uc(2," Out of stock "),s.Pb(),s.Pb())}function G(t,e){if(1&t&&(s.Qb(0,"td"),s.Qb(1,"span"),s.uc(2),s.Pb(),s.Pb()),2&t){const t=s.Zb().$implicit;s.zb(1),s.Bb(t.stock>0&&t.stock<4?"badge bg-warning":"badge bg-dark"),s.zb(1),s.wc(" ",t.stock>0&&t.stock<4?"Under inventory":"Available"," ")}}function W(t,e){if(1&t){const t=s.Rb();s.Qb(0,"tr"),s.Qb(1,"td"),s.Qb(2,"div",22),s.Qb(3,"div",23),s.Lb(4,"img",24),s.Pb(),s.Qb(5,"div",25),s.Qb(6,"div",26),s.Qb(7,"div",27),s.uc(8),s.ac(9,"titlecase"),s.Pb(),s.Qb(10,"div",28),s.uc(11),s.ac(12,"titlecase"),s.Pb(),s.Qb(13,"div",28),s.sc(14,Z,3,0,"td",3),s.sc(15,G,3,3,"ng-template",null,29,s.tc),s.Pb(),s.Pb(),s.Pb(),s.Pb(),s.Pb(),s.Qb(17,"td"),s.Qb(18,"p",30),s.uc(19),s.ac(20,"currency"),s.Pb(),s.Pb(),s.Qb(21,"td"),s.Qb(22,"div",31),s.Qb(23,"button",32),s.Xb("click",function(){s.nc(t);const r=e.$implicit;return s.Zb(2).selectProduct(!1,r)}),s.Lb(24,"i",33),s.uc(25," Detail "),s.Pb(),s.Qb(26,"button",34),s.Xb("click",function(){s.nc(t);const r=e.$implicit;return s.Zb(2).selectProduct(!1,r)}),s.Lb(27,"i",35),s.uc(28," Edit "),s.Pb(),s.Qb(29,"button",36),s.Xb("click",function(){s.nc(t);const r=e.$implicit;return s.Zb(2).selectProduct(!1,r)}),s.Lb(30,"i",37),s.uc(31," Delete "),s.Pb(),s.Pb(),s.Pb(),s.Pb()}if(2&t){const t=e.$implicit,r=s.mc(16);s.zb(4),s.gc("src",t.img,s.pc)("alt",t.name),s.zb(4),s.wc(" ",s.bc(9,7,t.name)," "),s.zb(3),s.wc(" ",s.bc(12,9,t.category)," "),s.zb(3),s.gc("ngIf",0==t.stock)("ngIfElse",r),s.zb(5),s.wc(" ",s.dc(20,11,t.price,"$","symbol","1.0-0")," ")}}function j(t,e){if(1&t){const t=s.Rb();s.Qb(0,"li"),s.Qb(1,"a",39),s.Xb("click",function(){s.nc(t);const r=e.$implicit;return s.Zb(2).changePage(r.numberPage)}),s.uc(2),s.Pb(),s.Pb()}if(2&t){const t=e.$implicit,r=s.Zb(2);s.Bb(t.numberPage==r.pageActive?"page-item active":"page-item"),s.zb(2),s.wc(" ",t.numberPage," ")}}function Y(t,e){if(1&t){const t=s.Rb();s.Qb(0,"div"),s.Qb(1,"app-search",7),s.Xb("productSearch",function(e){return s.nc(t),s.Zb().refreshTheList(e)}),s.Pb(),s.Qb(2,"div",8),s.Qb(3,"table",9),s.Qb(4,"thead"),s.Qb(5,"tr"),s.Qb(6,"th",10),s.uc(7,"Product"),s.Pb(),s.Qb(8,"th",10),s.uc(9,"Price"),s.Pb(),s.Qb(10,"th",10),s.uc(11,"Action"),s.Pb(),s.Pb(),s.Pb(),s.Qb(12,"tbody"),s.sc(13,W,32,16,"tr",11),s.Pb(),s.Pb(),s.Qb(14,"nav",12),s.Qb(15,"ul",13),s.Qb(16,"li",14),s.Qb(17,"button",15),s.Xb("click",function(){s.nc(t);const e=s.Zb();return e.changePage(e.pageActive-1)}),s.Qb(18,"span",16),s.uc(19,"\xab"),s.Pb(),s.Pb(),s.Pb(),s.sc(20,j,3,3,"li",17),s.Qb(21,"li",14),s.Qb(22,"button",18),s.Xb("click",function(){s.nc(t);const e=s.Zb();return e.changePage(e.pageActive+1)}),s.Qb(23,"span",16),s.uc(24,"\xbb"),s.Pb(),s.Pb(),s.Pb(),s.Pb(),s.Pb(),s.Pb(),s.Qb(25,"app-product-add-and-update",19),s.Xb("productNew",function(e){return s.nc(t),s.Zb().addToTheList(e)})("productUpdate",function(e){return s.nc(t),s.Zb().updateToTheList(e)}),s.Pb(),s.Qb(26,"app-modal-delete-product",20),s.Xb("productDelete",function(e){return s.nc(t),s.Zb().deleteTheList(e)}),s.Pb(),s.Lb(27,"app-product-detail",21),s.Pb()}if(2&t){const t=s.Zb();s.zb(13),s.gc("ngForOf",t.listProducts),s.zb(4),s.gc("disabled",t.pageActive<=0)("hidden",-1==t.pageActive),s.zb(3),s.gc("ngForOf",t.pagination),s.zb(2),s.gc("disabled",t.pageActive==t.pagination.length),s.zb(3),s.gc("productInput",t.productSelected)("isNewProduct",t.isNewProduct),s.zb(1),s.gc("productRemoved",!1)("productSelected",t.productSelected),s.zb(1),s.gc("productSelected",t.productSelected)}}function H(t,e){1&t&&(s.Qb(0,"div",41),s.uc(1," No products were found! "),s.Pb())}function J(t,e){if(1&t&&s.sc(0,H,2,0,"div",40),2&t){const t=s.Zb();s.gc("ngIf",0==t.showLoading)}}let tt=(()=>{class t{constructor(t,e){this.productService=t,this.messageService=e,this.listProducts=[],this.pagination=[],this.pageActive=1,this.isNewProduct=!0,this.showLoading=!0}ngOnInit(){this.productSelected={category:"",description:"",name:"",price:0,stock:0},void 0!==this.searchCategory?(this.searchProduct(),this.showLoading=!1):this.productService.getAllProducts().subscribe(t=>{const e=Number(t.total)/6;for(let r=0;r<e;r++)this.pagination.push({numberPage:r+1,url:"aa"});this.listProducts=t.products,this.showLoading=!1},()=>{this.listProducts=[],this.showLoading=!1})}selectProduct(t,e){void 0!==e&&(this.productSelected=e,this.isNewProduct=t),this.isNewProduct=t}addToTheList(t){this.listProducts.push(t)}updateToTheList(t){const e=this.listProducts.findIndex(e=>e._id==t._id);let r=[...this.listProducts];r[e]=Object.assign(Object.assign({},r[e]),{name:t.name,description:t.description,price:t.price,img:t.img,category:t.category,stock:t.stock,_id:t._id}),this.listProducts=r}refreshTheList(t){this.listProducts=t}deleteTheList(t){this.listProducts=this.listProducts.filter(e=>e._id!==t._id)}changePage(t){console.log(t),t<=0||t>this.pagination.length?console.log("el valor es invalido: ",t):(this.pageActive=t,this.productService.getAllProducts(6*(t-1)).subscribe(t=>{this.listProducts=t.products}))}searchProduct(){this.productService.getProductById("",this.searchCategory).subscribe(t=>{this.messageService.add({severity:"success",summary:"It was filtered by category name",detail:""}),this.listProducts=t},()=>{this.messageService.add({severity:"warn",summary:"Error, contact technical support",detail:""})})}}return t.\u0275fac=function(e){return new(e||t)(s.Kb(N),s.Kb(h.d))},t.\u0275cmp=s.Eb({type:t,selectors:[["app-list-products"]],inputs:{searchCategory:"searchCategory"},features:[s.yb([h.d])],decls:7,vars:3,consts:[["data-bs-target","#modalProduct","data-bs-toggle","modal",1,"mb-4","btn","btn-dark",3,"click"],[1,"pi","me-2","pi-plus"],["class","d-flex align-items-center p-3",4,"ngIf"],[4,"ngIf","ngIfElse"],["messageThereAreNoProducts",""],[1,"d-flex","align-items-center","p-3"],["role","status","aria-hidden","true",1,"spinner-border","ms-auto","text-warning"],[3,"productSearch"],[1,"table-responsive"],[1,"table","table-hover","align-middle"],["scope","col"],[4,"ngFor","ngForOf"],["aria-label","Page navigation"],[1,"pagination"],[1,"page-item"],["aria-label","Previous",1,"page-link","backAndNext",3,"disabled","hidden","click"],["aria-hidden","true"],[3,"class",4,"ngFor","ngForOf"],["aria-label","Next",1,"page-link","backAndNext",3,"disabled","click"],[3,"productInput","isNewProduct","productNew","productUpdate"],[3,"productRemoved","productSelected","productDelete"],[3,"productSelected"],[1,"row","justify-content-sm-center","justify-content-md-start"],[1,"col-sm-12","col-md-2","mb-md-2","mt-md-2"],[1,"img-fluid","img-list",3,"src","alt"],[1,"col-sm-12","col-md-9","mb-md-2","mt-md-2"],[1,"ms-3"],[1,"fw-bold","mb-1"],[1,"text-muted","mb-0"],["productStock",""],[1,"fw-bold"],[1,"d-grid","gap-2","d-md-block"],["data-bs-target","#modalDetailProduct","data-bs-toggle","modal",1,"btn","btn-dark","mx-md-1","mb-2","mb-sm-2","mx-sm-2",3,"click"],[1,"pi","me-2","pi-eye"],["data-bs-target","#modalProduct","data-bs-toggle","modal",1,"btn","btn-warning","mx-md-1","mb-2","mb-sm-2","mx-sm-2",3,"click"],[1,"pi","me-2","pi-pencil"],["data-bs-target","#modalDeleteProduct","data-bs-toggle","modal",1,"btn","btn-danger","mx-md-1","mb-2","mb-sm-2","mx-sm-2",3,"click"],[1,"pi","me-2","pi-trash"],[1,"badge","bg-danger"],[1,"page-link",3,"click"],["class","alert alert-danger","role","alert",4,"ngIf"],["role","alert",1,"alert","alert-danger"]],template:function(t,e){if(1&t&&(s.Qb(0,"button",0),s.Xb("click",function(){return e.selectProduct(!0)}),s.Lb(1,"i",1),s.uc(2," New Product\n"),s.Pb(),s.sc(3,V,4,0,"div",2),s.sc(4,Y,28,10,"div",3),s.sc(5,J,1,1,"ng-template",null,4,s.tc)),2&t){const t=s.mc(6);s.zb(3),s.gc("ngIf",e.showLoading),s.zb(1),s.gc("ngIf",0!==e.listProducts.length)("ngIfElse",t)}},directives:[o.l,O,o.k,q,X,M],pipes:[o.q,o.c],styles:[".img-list[_ngcontent-%COMP%]{\n           \n            max-width:70px;\n            cursor:pointer;\n        }\n\n\t\t.page-item.active[_ngcontent-%COMP%]   .page-link[_ngcontent-%COMP%] {\n\t\t\t\tz-index: 3;\n\t\t\t\tcolor: #FFF;\n\t\t\t\tborder-color: #FFF;\n\t\t\t\tbackground-color: #FFCA2C;\n                cursor:pointer;\n\n\t\t\t}\n            \n\t\t\t.page-link[_ngcontent-%COMP%] {\n                background-color: #FFF;\n                color: #212529;\n                border-color: #FFF;\n                cursor:pointer;\n\n\t\t\t}\n\n            .backAndNext[_ngcontent-%COMP%]{\n                background-color: #FFCA2C;\n                border-color: #FFF;\n                color: #FFF;\n            }\n            .backAndNext[_ngcontent-%COMP%]:hover{\n                background-color: #FFC008;\n                border-color: #FFF;\n                color: #FFF;\n            }"]}),t})(),et=(()=>{class t{constructor(t){this.route=t,this.productSelected={category:"",name:"",description:"",price:0,stock:0,img:""}}ngOnInit(){const t=this.route.snapshot.queryParamMap.getAll("categoryid");t.length>0&&t[0].length>0&&(this.searchCategory=t[0]),this.isList=!0,this.isNew=!0}showProduct(t){this.productSelected=t}}return t.\u0275fac=function(e){return new(e||t)(s.Kb(c.a))},t.\u0275cmp=s.Eb({type:t,selectors:[["app-product"]],decls:9,vars:1,consts:[[1,"container-fluid"],[1,"row","flex-nowrap"],[1,"col-auto","col-md-3","col-xl-2","px-sm-2","px-0","bg-dark"],[1,"col","py-3"],[1,"row","justify-content-lg-center"],[1,"col-12","col-sm-12","col-md-12","col-lg-12","col-xl-11"],[1,"col-12","col-sm-12","col-md-12","col-lg-12","col-xl-12"],[3,"searchCategory"]],template:function(t,e){1&t&&(s.Qb(0,"div",0),s.Qb(1,"div",1),s.Lb(2,"app-menu-store",2),s.Qb(3,"div",3),s.Qb(4,"div",4),s.Qb(5,"div",5),s.Lb(6,"app-product-functions-list"),s.Pb(),s.Qb(7,"div",6),s.Lb(8,"app-list-products",7),s.Pb(),s.Pb(),s.Pb(),s.Pb(),s.Pb()),2&t&&(s.zb(8),s.gc("searchCategory",e.searchCategory))},directives:[l,z,tt],encapsulation:2}),t})();function rt(t,e){if(1&t&&(s.Qb(0,"li",8),s.Qb(1,"a",9),s.Lb(2,"i"),s.uc(3),s.Pb(),s.Pb()),2&t){const t=e.$implicit;s.zb(1),s.gc("routerLinkActive",t.classActive)("routerLink",t.routerLink),s.zb(1),s.Bb(t.class),s.zb(1),s.wc(" ",t.label,"")}}let ot=(()=>{class t{constructor(){}ngOnInit(){this.menuList=[{label:"History",class:"pi pi-book  me-1 ",routerLink:"/store/sales/history",classActive:"active"},{label:"New",class:"pi pi-plus  me-1 ",routerLink:"/store/sales/new",classActive:"active"},{label:"Shopping cart",class:"pi pi-book  me-1 ",routerLink:"/store/sales/shopping-cart",classActive:"active"}]}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275cmp=s.Eb({type:t,selectors:[["app-menu-sale"]],decls:10,vars:1,consts:[[1,"navbar","navbar-expand-lg","navbar-light","bg-light"],[1,"container-fluid"],["routerLink","/store/sales/history",1,"navbar-brand"],["type","button","data-bs-toggle","collapse","data-bs-target","#navbarNav","aria-controls","navbarNav","aria-expanded","false","aria-label","Toggle navigation",1,"navbar-toggler"],[1,"navbar-toggler-icon"],["id","navbarNav",1,"collapse","navbar-collapse"],[1,"navbar-nav"],["class","nav-item",4,"ngFor","ngForOf"],[1,"nav-item"],["aria-current","page",1,"nav-link",3,"routerLinkActive","routerLink"]],template:function(t,e){1&t&&(s.Qb(0,"nav",0),s.Qb(1,"div",1),s.Qb(2,"a",2),s.Qb(3,"strong"),s.uc(4,"Sales"),s.Pb(),s.Pb(),s.Qb(5,"button",3),s.Lb(6,"span",4),s.Pb(),s.Qb(7,"div",5),s.Qb(8,"ul",6),s.sc(9,rt,4,5,"li",7),s.Pb(),s.Pb(),s.Pb(),s.Pb()),2&t&&(s.zb(9),s.gc("ngForOf",e.menuList))},directives:[c.e,o.k,c.d],encapsulation:2}),t})(),st=(()=>{class t{constructor(){}ngOnInit(){}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275cmp=s.Eb({type:t,selectors:[["app-home-sale"]],decls:9,vars:0,consts:[[1,"container-fluid"],[1,"row","flex-nowrap"],[1,"col-auto","col-md-3","col-xl-2","px-sm-2","px-0","bg-dark"],[1,"col","py-3"],[1,"row"],[1,"col-sm-12","mb-3"],[1,"col-sm-12"]],template:function(t,e){1&t&&(s.Qb(0,"div",0),s.Qb(1,"div",1),s.Lb(2,"app-menu-store",2),s.Qb(3,"div",3),s.Qb(4,"div",4),s.Qb(5,"div",5),s.Lb(6,"app-menu-sale"),s.Pb(),s.Qb(7,"div",6),s.Lb(8,"router-outlet"),s.Pb(),s.Pb(),s.Pb(),s.Pb(),s.Pb())},directives:[l,ot,c.g],encapsulation:2}),t})(),it=(()=>{class t{constructor(t){this.http=t,this._urlBase=m.a.URLBASE,this.getListSales=t=>{const e=`${this._urlBase}/sale?date=${t}`,r=(new u.c).set("x-token",localStorage.getItem("token")||"");return this.http.get(e,{headers:r})}}}return t.\u0275fac=function(e){return new(e||t)(s.Ub(u.a))},t.\u0275prov=s.Gb({token:t,factory:t.\u0275fac,providedIn:"root"}),t})();function ct(t,e){if(1&t&&(s.Qb(0,"option",15),s.uc(1),s.Pb()),2&t){const t=e.$implicit,r=s.Zb();s.gc("value",t.number)("disabled",t.number>r.monthNow)("selected",t.number===r.monthNow),s.zb(1),s.wc(" ",t.name," ")}}function at(t,e){if(1&t&&(s.Qb(0,"option",16),s.uc(1),s.Pb()),2&t){const t=e.$implicit,r=s.Zb();s.gc("value",t)("selected",t===r.yearNow),s.zb(1),s.wc(" ",t," ")}}let nt=(()=>{class t{constructor(t,e){this.fb=t,this.salesService=e,this.salesResult=new s.n,this.listMonth=[{number:1,name:"January"},{number:2,name:"February"},{number:3,name:"March"},{number:4,name:"April"},{number:5,name:"May"},{number:6,name:"June"},{number:7,name:"July"},{number:8,name:"August"},{number:9,name:"September"},{number:10,name:"October"},{number:11,name:"November"},{number:12,name:"December"}],this.monthNow=(new Date).getMonth()+1,this.yearNow=(new Date).getFullYear(),this.getSales=()=>{this.salesService.getListSales(this.searchForm.controls.year.value+"-"+this.searchForm.controls.month.value+"-01").subscribe(t=>{console.log(t.Sales),this.salesResult.emit(t)})}}ngOnInit(){this.searchForm=this.fb.group({month:["",g.m.required],year:["",g.m.required]}),this.listYear=this.getLastFiveYears()}getLastFiveYears(){const t=(new Date).getUTCFullYear(),e=[];for(let r=t-4;r<=t;r++)e.push(r);return e}}return t.\u0275fac=function(e){return new(e||t)(s.Kb(g.b),s.Kb(it))},t.\u0275cmp=s.Eb({type:t,selectors:[["app-sales-search"]],outputs:{salesResult:"salesResult"},features:[s.yb([h.d])],decls:25,vars:4,consts:[[1,"mt-2"],[1,"mb-5",3,"formGroup","ngSubmit"],[1,"row","g-4"],[1,"col-sm-12"],[1,"col"],["aria-label","Default select example","formControlName","month",1,"form-select"],[3,"value","disabled","selected",4,"ngFor","ngForOf"],[1,"text-secondary"],["aria-label","Default select example","formControlName","year",1,"form-select"],[3,"value","selected",4,"ngFor","ngForOf"],[1,"d-grid","gap-2","d-md-block"],["type","submit",1,"btn","btn-outline-dark","mx-2","mb-sm-2",3,"disabled"],[1,"pi","me-1","pi-search"],["type","button",1,"btn","btn-outline-danger","mx-2","mb-sm-2"],[1,"pi","me-1","pi-trash"],[3,"value","disabled","selected"],[3,"value","selected"]],template:function(t,e){1&t&&(s.Qb(0,"div",0),s.Qb(1,"form",1),s.Xb("ngSubmit",function(){return e.getSales()}),s.Qb(2,"div",2),s.Qb(3,"div",3),s.Qb(4,"h5"),s.uc(5,"Sales filter"),s.Pb(),s.Pb(),s.Qb(6,"div",4),s.Qb(7,"select",5),s.sc(8,ct,2,4,"option",6),s.Pb(),s.Qb(9,"small",7),s.uc(10,"Month"),s.Pb(),s.Pb(),s.Qb(11,"div",4),s.Qb(12,"select",8),s.sc(13,at,2,3,"option",9),s.Pb(),s.Qb(14,"small",7),s.uc(15,"It shows only the last 5 years"),s.Pb(),s.Pb(),s.Qb(16,"div",4),s.Qb(17,"div",10),s.Qb(18,"button",11),s.Lb(19,"i",12),s.uc(20," Search "),s.Pb(),s.Qb(21,"button",13),s.Lb(22,"i",14),s.uc(23," Clear "),s.Pb(),s.Pb(),s.Pb(),s.Pb(),s.Pb(),s.Pb(),s.Lb(24,"p-toast")),2&t&&(s.zb(1),s.gc("formGroup",e.searchForm),s.zb(7),s.gc("ngForOf",e.listMonth),s.zb(5),s.gc("ngForOf",e.listYear),s.zb(5),s.gc("disabled",e.searchForm.controls.month.invalid&&e.searchForm.controls.year.invalid))},directives:[g.n,g.g,g.d,g.l,g.f,g.c,o.k,f.a,g.h,g.o],encapsulation:2}),t})();function bt(t,e){if(1&t&&(s.Qb(0,"tr"),s.Qb(1,"th",7),s.uc(2),s.Pb(),s.Qb(3,"td"),s.uc(4),s.ac(5,"currency"),s.Pb(),s.Qb(6,"td"),s.uc(7),s.ac(8,"date"),s.Pb(),s.Qb(9,"td"),s.Qb(10,"button",8),s.uc(11,"Detail"),s.Pb(),s.Pb(),s.Pb()),2&t){const t=e.$implicit,r=e.index;s.zb(2),s.vc(r+1),s.zb(2),s.vc(s.dc(5,3,t.total,"$","symbol","1.0-0")),s.zb(3),s.vc(s.cc(8,8,t.date,"dd-MM-yyyy"))}}function dt(t,e){if(1&t&&(s.Qb(0,"div"),s.Qb(1,"table",4),s.Qb(2,"thead"),s.Qb(3,"tr"),s.Qb(4,"th",5),s.uc(5,"#"),s.Pb(),s.Qb(6,"th",5),s.uc(7,"Total"),s.Pb(),s.Qb(8,"th",5),s.uc(9,"Date"),s.Pb(),s.Qb(10,"th",5),s.uc(11,"Products"),s.Pb(),s.Pb(),s.Pb(),s.Qb(12,"tbody"),s.sc(13,bt,12,11,"tr",6),s.Pb(),s.Pb(),s.Pb()),2&t){const t=s.Zb();s.zb(13),s.gc("ngForOf",t.listSales)}}function lt(t,e){1&t&&(s.Qb(0,"div",9),s.uc(1," No sales were found! "),s.Pb())}let ut=(()=>{class t{constructor(t){this.salesService=t,this.listSales=[],this.date=new Date,this.getDate=t=>{var e=t.getDate(),r=t.getMonth()+1;return e<10&&(e="0"+e),r<10&&(r="0"+r),t.getFullYear()+"-"+r+"-"+e}}ngOnInit(){const t=this.getDate(this.date);this.salesService.getListSales(t).subscribe(t=>{this.listSales=t.Sales})}refreshListSales(t){this.listSales=t.Sales}}return t.\u0275fac=function(e){return new(e||t)(s.Kb(it))},t.\u0275cmp=s.Eb({type:t,selectors:[["app-list-sales"]],decls:13,vars:2,consts:[["role","alert",1,"alert","alert-warning","mb-4"],[3,"salesResult"],[4,"ngIf","ngIfElse"],["messageThereAreNoSales",""],[1,"table"],["scope","col"],[4,"ngFor","ngForOf"],["scope","row"],["type","button",1,"btn","btn-warning"],["role","alert",1,"alert","alert-danger"]],template:function(t,e){if(1&t&&(s.Qb(0,"div",0),s.Qb(1,"h4"),s.uc(2,"List Sales"),s.Pb(),s.Qb(3,"p"),s.uc(4," Full list of all sales in DB "),s.Lb(5,"br"),s.uc(6," The data obtained are those of the present month "),s.Lb(7,"br"),s.uc(8," If you want to get another month, use the filter below "),s.Pb(),s.Pb(),s.Qb(9,"app-sales-search",1),s.Xb("salesResult",function(t){return e.refreshListSales(t)}),s.Pb(),s.sc(10,dt,14,1,"div",2),s.sc(11,lt,2,0,"ng-template",null,3,s.tc)),2&t){const t=s.mc(12);s.zb(10),s.gc("ngIf",0!==e.listSales.length)("ngIfElse",t)}},directives:[nt,o.l,o.k],pipes:[o.c,o.e],encapsulation:2}),t})(),mt=(()=>{class t{constructor(){}ngOnInit(){}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275cmp=s.Eb({type:t,selectors:[["app-history"]],decls:1,vars:0,template:function(t,e){1&t&&s.Lb(0,"app-list-sales")},directives:[ut],encapsulation:2}),t})(),pt=(()=>{class t{constructor(){}ngOnInit(){}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275cmp=s.Eb({type:t,selectors:[["app-new"]],decls:17,vars:0,consts:[[1,"container","mt-5"],[1,"mb-4","display-5"],[1,"row","mb-3"],["for","inputPassword3",1,"col-sm-2","col-form-label"],[1,"col-sm-10"],["type","password","id","inputPassword3",1,"form-control"],[1,"col-sm-10","offset-sm-2"],[1,"form-check"],["type","checkbox","id","gridCheck1",1,"form-check-input"],["for","gridCheck1",1,"form-check-label"],["type","submit",1,"btn","btn-warning"]],template:function(t,e){1&t&&(s.Qb(0,"div",0),s.Qb(1,"h2",1),s.uc(2,"New Sale"),s.Pb(),s.Qb(3,"form"),s.Qb(4,"div",2),s.Qb(5,"label",3),s.uc(6,"Password"),s.Pb(),s.Qb(7,"div",4),s.Lb(8,"input",5),s.Pb(),s.Pb(),s.Qb(9,"div",2),s.Qb(10,"div",6),s.Qb(11,"div",7),s.Lb(12,"input",8),s.Qb(13,"label",9),s.uc(14," Example checkbox "),s.Pb(),s.Pb(),s.Pb(),s.Pb(),s.Qb(15,"button",10),s.uc(16,"Next"),s.Pb(),s.Pb(),s.Pb())},directives:[g.n,g.g],encapsulation:2}),t})(),gt=(()=>{class t{constructor(){}ngOnInit(){}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275cmp=s.Eb({type:t,selectors:[["app-home-users"]],decls:7,vars:0,consts:[[1,"container-fluid"],[1,"row","flex-nowrap"],[1,"col-auto","col-md-3","col-xl-2","px-sm-2","px-0","bg-dark"],[1,"col","py-3"],[1,"row"],[1,"col-sm-12"]],template:function(t,e){1&t&&(s.Qb(0,"div",0),s.Qb(1,"div",1),s.Lb(2,"app-menu-store",2),s.Qb(3,"div",3),s.Qb(4,"div",4),s.Qb(5,"div",5),s.Lb(6,"router-outlet"),s.Pb(),s.Pb(),s.Pb(),s.Pb(),s.Pb())},directives:[l,c.g],encapsulation:2}),t})();function ht(t,e){if(1&t&&(s.Qb(0,"div",4),s.Qb(1,"li"),s.uc(2),s.Pb(),s.Pb()),2&t){const t=e.$implicit;s.zb(2),s.vc(t)}}let Pt=(()=>{class t{constructor(){}ngOnInit(){this.listFuntion=["Create User","See detail","Edit user","Remove user","Search for the name"]}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275cmp=s.Eb({type:t,selectors:[["app-user-functions-list"]],decls:8,vars:1,consts:[["role","alert",1,"alert","alert-warning","mb-4"],[1,"list-unstyled"],[1,"row"],["class","col-sm-12 col-md-6 col-lg-4 col-xl-3",4,"ngFor","ngForOf"],[1,"col-sm-12","col-md-6","col-lg-4","col-xl-3"]],template:function(t,e){1&t&&(s.Qb(0,"div",0),s.Qb(1,"h4"),s.uc(2,"List Users"),s.Pb(),s.Qb(3,"p"),s.uc(4,"Full list of all users in DB"),s.Pb(),s.Qb(5,"ul",1),s.Qb(6,"div",2),s.sc(7,ht,3,1,"div",3),s.Pb(),s.Pb(),s.Pb()),2&t&&(s.zb(7),s.gc("ngForOf",e.listFuntion))},directives:[o.k],styles:[""]}),t})(),vt=(()=>{class t{constructor(t){this.http=t,this._urlBase=m.a.URLBASE}getAllUser(){const t=`${this._urlBase}/users`,e=(new u.c).set("x-token",localStorage.getItem("token")||"");return this.http.get(t,{headers:e})}saveProduct(t){const e=`${this._urlBase}/users`,r=(new u.c).set("x-token",localStorage.getItem("token")||"");return this.http.post(e,t,{headers:r})}}return t.\u0275fac=function(e){return new(e||t)(s.Ub(u.a))},t.\u0275prov=s.Gb({token:t,factory:t.\u0275fac,providedIn:"root"}),t})();function ft(t,e){1&t&&(s.Qb(0,"span",25),s.uc(1," The email must be required "),s.Pb())}function yt(t,e){1&t&&(s.Qb(0,"span",25),s.uc(1," The name must be required "),s.Pb())}function Qt(t,e){1&t&&(s.Qb(0,"span",25),s.uc(1," The password must be required "),s.Pb())}function wt(t,e){if(1&t&&(s.Qb(0,"option",26),s.uc(1),s.Pb()),2&t){const t=e.$implicit;s.gc("value",t._id),s.zb(1),s.vc(t.name)}}function kt(t,e){1&t&&(s.Qb(0,"span",25),s.uc(1," The rol must be required "),s.Pb())}let Lt=(()=>{class t{constructor(t,e,r){this.fb=t,this.userService=e,this.messageService=r,this.productWasSaved=!1,this.showLoading=!1,this.listRole=[]}ngOnInit(){this.myFormUser=this.fb.group({uid:[""],email:["",g.m.email],password:["",g.m.required],name:["",g.m.required],rol:["",g.m.required]}),this.listRole=[{name:"ADMIN",_id:"ADMIN_ROLE"},{name:"EMPLOYEE",_id:"EMPLOYEE_ROLE"}]}fieldIsValid(t){return this.myFormUser.controls[t].errors&&this.myFormUser.controls[t].touched}Restoreform(){setTimeout(()=>{this.myFormUser.reset(),this.productWasSaved=!1},100)}saveUser(){this.showLoading=!0,this.userService.saveProduct(this.myFormUser.value).subscribe(t=>{console.log(t),this.showLoading=!1,this.messageService.add({severity:"success",summary:t.msg,detail:""}),this.productWasSaved=!0},t=>{this.showLoading=!1,console.log(t.error.msg),this.messageService.add({severity:"error",summary:t.error.msg,detail:""})})}}return t.\u0275fac=function(e){return new(e||t)(s.Kb(g.b),s.Kb(vt),s.Kb(h.d))},t.\u0275cmp=s.Eb({type:t,selectors:[["app-user-add-and-update"]],inputs:{userInput:"userInput"},features:[s.yb([h.d])],decls:44,vars:9,consts:[["id","modalUser","data-bs-backdrop","static","data-bs-keyboard","false","tabindex","-1","aria-labelledby","staticBackdropLabel","aria-hidden","true",1,"modal","fade"],[1,"modal-dialog"],[1,"modal-content"],[1,"modal-header","mb-3"],["id","staticBackdropLabel",1,"modal-title"],["type","button","data-bs-dismiss","modal","aria-label","Close",1,"btn-close"],[3,"formGroup","submit"],[1,"modal-body"],[1,"input-group","mb-3"],[1,"input-group-text"],["type","email","placeholder","Email","aria-label","Email","formControlName","email","aria-describedby","basic-addon1","required","",1,"form-control"],["class","input-group alert alert-danger mb-3",4,"ngIf"],["type","text","placeholder","Name","aria-label","name","formControlName","name","autocomplete","false","required","",1,"form-control"],["type","password","formControlName","password","autocomplete","false","required","",1,"form-control"],["formControlName","rol","aria-label","Select Rol","required","",1,"form-select"],[3,"value",4,"ngFor","ngForOf"],[1,"modal-footer"],["type","button","data-bs-dismiss","modal",1,"btn","btn-danger",3,"click"],[1,"pi","me-2","pi-times"],["type","submit",1,"btn","btn-dark","float-end",3,"disabled","hidden"],[1,"pi","me-2","pi-save"],[1,"text-center","mt-5","mb-5",3,"hidden"],[1,"mb-3"],["role","status",1,"spinner-border","text-warning"],[1,"visually-hidden"],[1,"input-group","alert","alert-danger","mb-3"],[3,"value"]],template:function(t,e){1&t&&(s.Qb(0,"div",0),s.Qb(1,"div",1),s.Qb(2,"div",2),s.Qb(3,"div",3),s.Qb(4,"h5",4),s.uc(5,"New User"),s.Pb(),s.Lb(6,"button",5),s.Pb(),s.Qb(7,"form",6),s.Xb("submit",function(){return e.saveUser()}),s.Qb(8,"div",7),s.Qb(9,"div",8),s.Qb(10,"span",9),s.uc(11,"* Email"),s.Pb(),s.Lb(12,"input",10),s.Pb(),s.sc(13,ft,2,0,"span",11),s.Qb(14,"div",8),s.Qb(15,"span",9),s.uc(16,"* Name"),s.Pb(),s.Lb(17,"input",12),s.Pb(),s.sc(18,yt,2,0,"span",11),s.Qb(19,"div",8),s.Qb(20,"span",9),s.uc(21,"* Password"),s.Pb(),s.Lb(22,"input",13),s.Pb(),s.sc(23,Qt,2,0,"span",11),s.Qb(24,"div",8),s.Qb(25,"span",9),s.uc(26,"* Rol"),s.Pb(),s.Qb(27,"select",14),s.sc(28,wt,2,2,"option",15),s.Pb(),s.Pb(),s.sc(29,kt,2,0,"span",11),s.Pb(),s.Qb(30,"div",16),s.Qb(31,"button",17),s.Xb("click",function(){return e.Restoreform()}),s.Lb(32,"i",18),s.uc(33," Close "),s.Pb(),s.Qb(34,"button",19),s.Lb(35,"i",20),s.uc(36," Save product "),s.Pb(),s.Pb(),s.Qb(37,"div",21),s.Qb(38,"h3",22),s.uc(39,"Loading..."),s.Pb(),s.Qb(40,"div",23),s.Qb(41,"span",24),s.uc(42,"Loading..."),s.Pb(),s.Pb(),s.Pb(),s.Pb(),s.Pb(),s.Pb(),s.Lb(43,"p-toast"),s.Pb()),2&t&&(s.zb(7),s.gc("formGroup",e.myFormUser),s.zb(6),s.gc("ngIf",e.fieldIsValid("email")),s.zb(5),s.gc("ngIf",e.fieldIsValid("name")),s.zb(5),s.gc("ngIf",e.fieldIsValid("password")),s.zb(5),s.gc("ngForOf",e.listRole),s.zb(1),s.gc("ngIf",e.fieldIsValid("rol")),s.zb(5),s.gc("disabled",e.myFormUser.invalid||e.showLoading)("hidden",e.productWasSaved),s.zb(3),s.gc("hidden",!e.showLoading))},directives:[g.n,g.g,g.d,g.a,g.f,g.c,g.k,o.l,g.l,o.k,f.a,g.h,g.o],encapsulation:2}),t})();function St(t,e){1&t&&(s.Qb(0,"div",3),s.Qb(1,"strong"),s.uc(2,"Loading..."),s.Pb(),s.Lb(3,"div",4),s.Pb())}function Ft(t,e){if(1&t&&(s.Qb(0,"tr"),s.Qb(1,"th",11),s.uc(2,"1"),s.Pb(),s.Qb(3,"td"),s.uc(4),s.Pb(),s.Qb(5,"td"),s.uc(6),s.Pb(),s.Qb(7,"td"),s.uc(8),s.ac(9,"rol"),s.Pb(),s.Qb(10,"td"),s.Qb(11,"div",12),s.Qb(12,"button",13),s.Lb(13,"i",14),s.uc(14," Edit "),s.Pb(),s.Qb(15,"button",15),s.Lb(16,"i",16),s.uc(17," Delete "),s.Pb(),s.Pb(),s.Pb(),s.Pb()),2&t){const t=e.$implicit;s.zb(4),s.vc(t.name),s.zb(2),s.vc(t.email),s.zb(2),s.vc(s.bc(9,3,t.rol))}}function xt(t,e){if(1&t&&(s.Qb(0,"div"),s.Qb(1,"button",5),s.Lb(2,"i",6),s.uc(3," New User "),s.Pb(),s.Qb(4,"div",7),s.Qb(5,"table",8),s.Qb(6,"thead"),s.Qb(7,"tr"),s.Qb(8,"th",9),s.uc(9,"#"),s.Pb(),s.Qb(10,"th",9),s.uc(11,"Name"),s.Pb(),s.Qb(12,"th",9),s.uc(13,"Email"),s.Pb(),s.Qb(14,"th",9),s.uc(15,"Rol"),s.Pb(),s.Qb(16,"th",9),s.uc(17,"Actions"),s.Pb(),s.Pb(),s.Pb(),s.Qb(18,"tbody"),s.sc(19,Ft,18,5,"tr",10),s.Pb(),s.Pb(),s.Pb(),s.Lb(20,"app-user-add-and-update"),s.Pb()),2&t){const t=s.Zb();s.zb(19),s.gc("ngForOf",t.listUsers)}}function It(t,e){1&t&&(s.Qb(0,"div",18),s.uc(1," No Users were found! "),s.Pb())}function Ct(t,e){if(1&t&&s.sc(0,It,2,0,"div",17),2&t){const t=s.Zb();s.gc("ngIf",0==t.showLoading)}}let zt=(()=>{class t{constructor(t,e){this.userService=t,this.messageService=e,this.listUsers=[],this.showLoading=!0}ngOnInit(){this.showLoading=!0,this.userService.getAllUser().subscribe(t=>{this.listUsers=t.users,this.showLoading=!1},t=>{this.showLoading=!1,this.messageService.add({severity:"error",summary:`${t.status}: ${t.statusText}`,detail:t.error.msg})})}}return t.\u0275fac=function(e){return new(e||t)(s.Kb(vt),s.Kb(h.d))},t.\u0275cmp=s.Eb({type:t,selectors:[["app-users-list"]],features:[s.yb([h.d])],decls:5,vars:3,consts:[["class","d-flex align-items-center p-3",4,"ngIf"],[4,"ngIf","ngIfElse"],["messageThereAreNoProducts",""],[1,"d-flex","align-items-center","p-3"],["role","status","aria-hidden","true",1,"spinner-border","ms-auto","text-warning"],["label","New category","data-bs-target","#modalUser","data-bs-toggle","modal",1,"mb-4","btn","btn-dark"],[1,"pi","me-2","pi-plus"],[1,"table-responsive"],[1,"table","table-sm"],["scope","col"],[4,"ngFor","ngForOf"],["scope","row"],[1,"d-grid","gap-3","d-md-block"],["data-bs-target","#modalUser","data-bs-toggle","modal",1,"btn","btn-warning","mx-md-1","mb-2","mb-sm-2","mx-sm-2","mx-2","me-sm-4"],[1,"pi","me-2","pi-pencil"],["data-bs-target","#modalDeleteUser","data-bs-toggle","modal",1,"btn","btn-danger","mx-md-1","mb-2","mb-sm-2","mx-sm-2","mx-2","me-sm-4"],[1,"pi","me-2","pi-trash"],["class","alert alert-danger","role","alert",4,"ngIf"],["role","alert",1,"alert","alert-danger"]],template:function(t,e){if(1&t&&(s.sc(0,St,4,0,"div",0),s.Lb(1,"p-toast"),s.sc(2,xt,21,1,"div",1),s.sc(3,Ct,1,1,"ng-template",null,2,s.tc)),2&t){const t=s.mc(4);s.gc("ngIf",e.showLoading),s.zb(2),s.gc("ngIf",0!==e.listUsers.length)("ngIfElse",t)}},directives:[o.l,f.a,o.k,Lt],pipes:[b],encapsulation:2}),t})();const Nt=[{path:"",children:[{path:"home",component:I},{path:"products",component:et},{path:"categories",component:x},{path:"sales",component:st,children:[{path:"new",component:pt},{path:"history",component:mt},{path:"shopping-cart",component:n},{path:"**",redirectTo:"history"}]},{path:"users",component:gt,children:[{path:"listUser",component:(()=>{class t{constructor(){}ngOnInit(){}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275cmp=s.Eb({type:t,selectors:[["app-list-user"]],decls:2,vars:0,template:function(t,e){1&t&&(s.Lb(0,"app-user-functions-list"),s.Lb(1,"app-users-list"))},directives:[Pt,zt],encapsulation:2}),t})()}],canLoad:[a],canActivate:[a]},{path:"**",redirectTo:"home"}]}];let Et=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=s.Ib({type:t}),t.\u0275inj=s.Hb({imports:[[c.f.forChild(Nt)],c.f]}),t})();var Ot=r("YOmw");let At=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=s.Ib({type:t}),t.\u0275inj=s.Hb({imports:[[o.b,g.j,Et,Ot.a]]}),t})()}}]);